"use strict";(self.webpackChunk_dgchronicles_ui=self.webpackChunk_dgchronicles_ui||[]).push([[929],{5929:function(e,t,a){a.r(t),a.d(t,{default:function(){return re}});var s=a(2723),r=a(4795),l=a(6234),n=a(533),o=a(969),c=a(4695),i=a(734),u=a(5967),d=a(3670),h=a(9526),p=a(4374),m=a(8079),f=a(1461);function x(e,t){if(null==e)return{};var a,s,r=(0,f.Z)(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)a=l[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var g=a(372),v=(0,g.Z)("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),b=(0,g.Z)("heart-filled","IconHeartFilled",[["path",{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),k=(0,g.Z)("heart","IconHeart",[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}]]),j=(0,g.Z)("thumb-up-filled","IconThumbUpFilled",[["path",{d:"M13 3a3 3 0 0 1 2.995 2.824l.005 .176v4h2a3 3 0 0 1 2.98 2.65l.015 .174l.005 .176l-.02 .196l-1.006 5.032c-.381 1.626 -1.502 2.796 -2.81 2.78l-.164 -.008h-8a1 1 0 0 1 -.993 -.883l-.007 -.117l.001 -9.536a1 1 0 0 1 .5 -.865a2.998 2.998 0 0 0 1.492 -2.397l.007 -.202v-1a3 3 0 0 1 3 -3z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M5 10a1 1 0 0 1 .993 .883l.007 .117v9a1 1 0 0 1 -.883 .993l-.117 .007h-1a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-7a2 2 0 0 1 1.85 -1.995l.15 -.005h1z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}]]),y=(0,g.Z)("thumb-up","IconThumbUp",[["path",{d:"M7 11v8a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-7a1 1 0 0 1 1 -1h3a4 4 0 0 0 4 -4v-1a2 2 0 0 1 4 0v5h3a2 2 0 0 1 2 2l-1 5a2 3 0 0 1 -2 2h-7a3 3 0 0 1 -3 -3",key:"svg-0"}]]),w=(0,g.Z)("thumb-down-filled","IconThumbDownFilled",[["path",{d:"M13 21.008a3 3 0 0 0 2.995 -2.823l.005 -.177v-4h2a3 3 0 0 0 2.98 -2.65l.015 -.173l.005 -.177l-.02 -.196l-1.006 -5.032c-.381 -1.625 -1.502 -2.796 -2.81 -2.78l-.164 .008h-8a1 1 0 0 0 -.993 .884l-.007 .116l.001 9.536a1 1 0 0 0 .5 .866a2.998 2.998 0 0 1 1.492 2.396l.007 .202v1a3 3 0 0 0 3 3z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M5 14.008a1 1 0 0 0 .993 -.883l.007 -.117v-9a1 1 0 0 0 -.883 -.993l-.117 -.007h-1a2 2 0 0 0 -1.995 1.852l-.005 .15v7a2 2 0 0 0 1.85 1.994l.15 .005h1z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}]]),M=(0,g.Z)("thumb-down","IconThumbDown",[["path",{d:"M7 13v-8a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v7a1 1 0 0 0 1 1h3a4 4 0 0 1 4 4v1a2 2 0 0 0 4 0v-5h3a2 2 0 0 0 2 -2l-1 -5a2 3 0 0 0 -2 -2h-7a3 3 0 0 0 -3 3",key:"svg-0"}]]),N=a(5887),Z=a(5015),C=(0,g.Z)("share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]),S=(0,g.Z)("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),z=(0,g.Z)("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),I=a(8859),D=a(7574),O=["isOpen","toggle","blogId","authorId"],A=(0,c.$j)((function(e){return{user:e.global.user,blogs:e.home.blogs}}))((function(e){var t=e.isOpen,a=e.toggle,n=e.blogId,i=e.authorId,u=x(e,O),p=(0,c.I0)(),m=(0,o.useState)(!1),f=(0,l.Z)(m,2),g=f[0],v=f[1];function b(){return(b=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!1),e.prev=1,e.next=4,N.Z.delete(n);case 4:p((0,h.dr)(u.blogs.filter((function(e){return e.id!==n})))),p((0,d.y)({message:"Blog has been deleted.",color:"warning"})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p((0,d.y)({message:e.t0.message,color:"error"}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}(0,o.useEffect)((function(){if(u.user===i)return v(!0);v(!1)}),[u.user,i]);var k={general:[{clicked:function(){},icon:(0,D.jsx)(C,{size:20}),label:"Share"}],protected:[{clicked:function(){},icon:(0,D.jsx)(S,{size:20}),label:"Edit"},{clicked:function(){return b.apply(this,arguments)},icon:(0,D.jsx)(z,{size:20}),label:"Delete"}]};return t&&(0,D.jsxs)("div",{className:"absolute z-50 flex flex-col items-stretch py-2 text-sm translate-y-1 rounded-lg min-w-fit top-full right-1/2 bg-stable-hay",children:[k.general.map((function(e){var t=e.clicked,a=e.icon,s=e.label;return(0,D.jsxs)("button",{className:"py-[2px] px-[6px] flex items-center gap-1",type:"button",onClick:t,children:[a,(0,D.jsx)("span",{className:"mr-2",children:s})]},(0,I.Z)())})),g&&k.protected.map((function(e){var t=e.clicked,a=e.icon,s=e.label;return(0,D.jsxs)("button",{className:"py-[2px] px-[6px] flex items-center gap-1",type:"button",onClick:t,children:[a,(0,D.jsx)("span",{className:"mr-2",children:s})]},(0,I.Z)())}))]})})),F=A,P=["user","userDetails"],V=(0,c.$j)((function(e){return{user:e.global.user,userDetails:e.user,blogs:e.home.blogs}}))((function(e){var t=(0,c.I0)(),a=(0,o.useState)(!1),i=(0,l.Z)(a,2),u=i[0],f=i[1],g=(0,o.useState)(!1),C=(0,l.Z)(g,2),S=C[0],z=C[1],I=(0,o.useState)(!1),O=(0,l.Z)(I,2),A=O[0],V=O[1],U=(0,o.useState)(!1),E=(0,l.Z)(U,2),R=E[0],T=E[1],B=e.user,H=e.userDetails,_=x(e,P),L=H.favorites,q=_.blog,W=q.likes,$=q.id,G=q.dislikes;function Y(){return(Y=(0,r.Z)((0,s.Z)().mark((function e(){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=3;break}return t((0,d.y)({message:"A process is still ongoing...",color:"warning"})),e.abrupt("return");case 3:return z(!0),e.prev=4,e.next=7,Z.Z.patch({favorites:L.includes($)?L.filter((function(e){return e!==$})):[].concat((0,m.Z)(L),[$])});case 7:a=e.sent,t((0,p.ps)(a)),t((0,d.y)({message:a.favorites.includes($)?"Blog added to favorites":"Blog removed from favorites",color:"info"})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),t((0,d.y)({message:e.t0.message,color:"error"}));case 15:z(!1);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function J(){return(J=(0,r.Z)((0,s.Z)().mark((function e(){var a,r,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A&&!R){e.next=3;break}return t((0,d.y)({message:"A process is still ongoing...",color:"warning"})),e.abrupt("return");case 3:if(V(!0),!W.includes(B)){e.next=18;break}return e.prev=5,e.next=8,N.Z.patch($,{likes:W.filter((function(e){return e!==B}))});case 8:a=e.sent,t((0,h.dr)(_.blogs.map((function(e){return e.id===$?a:e})))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t((0,d.y)({message:e.t0.message,color:"error"}));case 15:V(!1),e.next=31;break;case 18:return r={likes:[].concat((0,m.Z)(W),[B])},G.includes(B)&&(r.dislikes=G.filter((function(e){return e!==B}))),e.prev=20,e.next=23,N.Z.patch($,r);case 23:l=e.sent,t((0,h.dr)(_.blogs.map((function(e){return e.id===$?l:e})))),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(20),t((0,d.y)({message:e.t1.message,color:"error"}));case 30:V(!1);case 31:case"end":return e.stop()}}),e,null,[[5,12],[20,27]])})))).apply(this,arguments)}function X(){return(X=(0,r.Z)((0,s.Z)().mark((function e(){var a,r,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A&&!R){e.next=3;break}return t((0,d.y)({message:"A process is still ongoing...",color:"warning"})),e.abrupt("return");case 3:if(T(!0),!G.includes(B)){e.next=18;break}return e.prev=5,e.next=8,N.Z.patch($,{dislikes:G.filter((function(e){return e!==B}))});case 8:a=e.sent,t((0,h.dr)(_.blogs.map((function(e){return e.id===$?a:e})))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t((0,d.y)({message:e.t0.message,color:"error"}));case 15:T(!1),e.next=31;break;case 18:return r={dislikes:[].concat((0,m.Z)(G),[B])},W.includes(B)&&(r.likes=W.filter((function(e){return e!==B}))),e.prev=20,e.next=23,N.Z.patch($,r);case 23:l=e.sent,t((0,h.dr)(_.blogs.map((function(e){return e.id===$?l:e})))),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(20),t((0,d.y)({message:e.t1.message,color:"error"}));case 30:T(!1);case 31:case"end":return e.stop()}}),e,null,[[5,12],[20,27]])})))).apply(this,arguments)}return(0,D.jsxs)("article",{className:"relative first:mt-24 mb-3 bg-white text-slate-900 rounded-lg border-2 border-slate-100 p-2 blog-".concat($),children:[(0,D.jsx)("p",{className:"p-1 mb-2 rounded-md bg-slate-50",children:_.blog.title}),(0,D.jsx)("div",{className:"absolute top-0 right-0 z-50 translate-x-1/4 -translate-y-1/4",children:(0,D.jsxs)("div",{className:"relative",children:[(0,D.jsx)("button",{type:"button","aria-label":"Show more options",onClick:function(){return f((function(e){return!e}))},className:"p-1 text-white rounded-full bg-android-green ".concat(u?"bg-opacity-100":"bg-opacity-70"),children:(0,D.jsx)(v,{size:20})}),(0,D.jsx)(F,{isOpen:u,toggle:f,blogId:$,authorId:_.blog.author})]})}),(0,D.jsx)("div",{className:"bg-slate-50 w-full relative my-2 rounded-lg overflow-hidden pb-[calc((3/4)*100%)]",children:(0,D.jsx)("img",{className:"absolute top-0 left-0 object-cover object-center w-full h-full",src:"/hotcakes/".concat(B,"/").concat(_.blog.thumbnail),alt:"thumbnail for blog titled: ".concat(_.blog.title)})}),(0,D.jsxs)("div",{className:"flex items-center",children:[(0,D.jsxs)("button",{type:"button",onClick:function(){return Y.apply(this,arguments)},"aria-label":L.includes($)?"Remove from favorites":"Add to favoriites",className:"relative p-1 rounded-full",children:[L.includes($)&&!S&&(0,D.jsx)(b,{className:"text-sheer-apricot"}),!L.includes($)&&!S&&(0,D.jsx)(k,{className:"text-slate-300"}),S&&(0,D.jsx)(n.Z,{width:22}),S&&(0,D.jsx)("i",{className:"block w-6 aspect-square"})]}),(0,D.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,D.jsxs)("div",{className:"flex flex-col items-center text-xs leading-none",children:[(0,D.jsxs)("button",{type:"button","aria-label":W.includes(B)?"Unlike":"Like","aria-disabled":A||R,onClick:function(){return J.apply(this,arguments)},className:"relative p-1 rounded-full",children:[W.includes(B)&&!A&&(0,D.jsx)(j,{className:"text-blue-400"}),!W.includes(B)&&!A&&(0,D.jsx)(y,{className:"text-slate-300"}),A&&(0,D.jsx)(n.Z,{width:22}),A&&(0,D.jsx)("i",{className:"block w-6 aspect-square"})]}),(0,D.jsx)("span",{className:"".concat(0===W.length?"text-slate-300":"text-slate-600"),children:W.length})]}),(0,D.jsxs)("div",{className:"flex flex-col items-center text-xs leading-none",children:[(0,D.jsxs)("button",{type:"button","aria-label":G.includes(B)?"Remove dislike":"Dislike","aria-disabled":A||R,onClick:function(){return X.apply(this,arguments)},className:"relative p-1 rounded-full",children:[G.includes(B)&&!R&&(0,D.jsx)(w,{className:"text-red-400"}),!G.includes(B)&&!R&&(0,D.jsx)(M,{className:"text-slate-300"}),R&&(0,D.jsx)(n.Z,{width:22}),R&&(0,D.jsx)("i",{className:"block w-6 aspect-square"})]}),(0,D.jsx)("span",{className:"".concat(0===G.length?"text-slate-300":"text-slate-600"),children:G.length})]})]})]})]})}));function U(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a="abcdefghijklmnopqrstuvwxyz",s="0123456789",r=[],l=0;l<e/3;l++)r.push(t.charAt(Math.floor(26*Math.random())),a.charAt(Math.floor(26*Math.random())),s.charAt(Math.floor(10*Math.random())));for(var n=e%3,o=0;o<n;o++){var c=Math.floor(3*Math.random());0===c?r.push(t.charAt(Math.floor(26*Math.random()))):1===c?r.push(a.charAt(Math.floor(26*Math.random()))):r.push(s.charAt(Math.floor(10*Math.random())))}for(var i=r.length-1;i>0;i--){var u=Math.floor(Math.random()*(i+1)),d=[r[u],r[i]];r[i]=d[0],r[u]=d[1]}return r.join("").substring(0,e)}U(),U(),U(),U(),U(),U(),U(),U(),U();var E=(0,g.Z)("photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]),R=a(1999),T=["isOpen","onClose"];var B=function(e){var t=e.isOpen,a=e.onClose,s=x(e,T);return t&&(0,D.jsx)("div",{className:"".concat(s.fixed?"absolute":"fixed"," top-0 right-0 bottom-0 left-0 z-[100] bg-black bg-opacity-5 backdrop-blur-sm"),onClick:a,role:"presentation",children:(0,D.jsxs)("div",{className:"relative flex items-center justify-center h-full",children:[(0,D.jsx)("button",{type:"button","aria-label":"Close form",className:"absolute top-0 right-0 p-1 -translate-x-6 translate-y-8 rounded-full",onClick:function(e){e.stopPropagation(),a()},children:(0,D.jsx)(R.Z,{})}),s.children]})})},H=(0,c.$j)((function(e){return{formVisible:e.home.formVisible}}))((function(e){var t=e.formVisible,a=(0,c.I0)(),i=(0,o.useState)(null),u=(0,l.Z)(i,2),p=u[0],m=u[1],f=(0,o.useState)(!1),x=(0,l.Z)(f,2),g=x[0],v=x[1];function b(){return(b=(0,r.Z)((0,s.Z)().mark((function e(t){var r,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),p&&t.target.title.value&&t.target.content.value){e.next=3;break}return e.abrupt("return");case 3:return(r=new FormData).append("title",t.target.title.value),r.append("content",t.target.content.value),r.append("thumbnail",p),v(!0),e.prev=8,e.next=11,N.Z.post(r);case 11:l=e.sent,a((0,d.y)({message:"Blog Uploaded",color:"success"})),a((0,h.p5)(l)),a((0,h.Yv)()),m(null),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),a((0,d.y)({message:e.t0.message,color:"error"}));case 21:v(!1);case 22:case"end":return e.stop()}}),e,null,[[8,18]])})))).apply(this,arguments)}return t&&(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(B,{isOpen:t,onClose:function(){a((0,h.Yv)()),v(!1)},children:(0,D.jsxs)("form",{onClick:function(e){return e.stopPropagation()},encType:"multipart/form-data",onSubmit:function(e){return b.apply(this,arguments)},className:"w-full h-full max-h-[720px] bg-white mt-auto rounded-tr-3xl rounded-tl-3xl p-6 overflow-auto",children:[(0,D.jsx)("input",{name:"title",type:"text",placeholder:"Title",className:"sticky block w-full px-3 py-2 border-2 outline-none bg-slate-50 rounded-xl border-slate-100 bottom-6"}),(0,D.jsx)("textarea",{name:"content",cols:"30",rows:"10",placeholder:"Content",className:"block w-full px-3 py-2 my-3 border-2 outline-none resize-none bg-slate-50 rounded-xl border-slate-100"}),(0,D.jsx)("div",{children:(0,D.jsxs)("label",{htmlFor:"blog-thumbnail",className:"relative z-50 flex items-center justify-center gap-1 p-2 mb-3 overflow-hidden border-2 border-transparent bg-slate-50 rounded-xl active:scale-95 focus-within:border-slate-400",children:[(0,D.jsx)("input",{type:"file",accept:"image/*",name:"thumbnail",id:"blog-thumbnail",onChange:function(e){var t=e.target.files[0];m(t)},className:"absolute inset-0 opacity-0 -z-50"}),(0,D.jsx)(E,{}),p?"change":"pick a","\xa0thumbnail"]})}),(0,D.jsxs)("button",{type:"submit","aria-disabled":!p||g,"aria-label":"Upload blog",className:"sticky block w-full p-3 bg-yellow-300 active:scale-95 aria-disabled:active:scale-100 aria-disabled:bg-yellow-100 rounded-xl",children:[g?(0,D.jsx)(n.Z,{width:22}):(0,D.jsx)("span",{children:"Upload"}),g&&(0,D.jsx)("i",{className:"block h-6"})]})]})})})})),_=(0,g.Z)("home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]),L=(0,g.Z)("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]),q=(0,g.Z)("arrow-bar-left","IconArrowBarLeft",[["path",{d:"M4 12l10 0",key:"svg-0"}],["path",{d:"M4 12l4 4",key:"svg-1"}],["path",{d:"M4 12l4 -4",key:"svg-2"}],["path",{d:"M20 4l0 16",key:"svg-3"}]]),W=function(e){var t=e.width;return(0,D.jsxs)("svg",{version:"1.1",id:"Uploaded to svgrepo.com",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:t,viewBox:"0 0 32 32",xmlSpace:"preserve",fill:"#000000",children:[(0,D.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),(0,D.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,D.jsx)("g",{id:"SVGRepo_iconCarrier",children:(0,D.jsxs)("g",{children:[(0,D.jsx)("path",{style:{fill:"#F2C99E"},d:"M29,32H3c-1.657,0-3-1.343-3-3V3c0-1.657,1.343-3,3-3h26c1.657,0,3,1.343,3,3v26 C32,30.657,30.657,32,29,32z"}),(0,D.jsx)("path",{style:{fill:"#F9E0BD"},d:"M27,32H3c-1.657,0-3-1.343-3-3V3c0-1.657,1.343-3,3-3h24c1.657,0,3,1.343,3,3v26 C30,30.657,28.657,32,27,32z"}),(0,D.jsx)("path",{style:{fill:"#A4C83F"},d:"M6,32H3c-1.657,0-3-1.343-3-3V3c0-1.657,1.343-3,3-3h3V32z M22,8c0-0.553-0.448-1-1-1h-8 c-0.552,0-1,0.447-1,1s0.448,1,1,1h8C21.552,9,22,8.553,22,8z M22,12c0-0.553-0.448-1-1-1h-8c-0.552,0-1,0.447-1,1s0.448,1,1,1h8 C21.552,13,22,12.553,22,12z"}),(0,D.jsx)("path",{style:{fill:"#F9E0BD"},d:"M4.5,5C4.224,5,4,4.776,4,4.5v-1C4,3.224,4.224,3,4.5,3S5,3.224,5,3.5v1C5,4.776,4.776,5,4.5,5z M5,1.5V0H4v1.5C4,1.776,4.224,2,4.5,2S5,1.776,5,1.5z M5,7.5v-1C5,6.224,4.776,6,4.5,6S4,6.224,4,6.5v1C4,7.776,4.224,8,4.5,8 S5,7.776,5,7.5z M5,10.5v-1C5,9.224,4.776,9,4.5,9S4,9.224,4,9.5v1C4,10.776,4.224,11,4.5,11S5,10.776,5,10.5z M5,13.5v-1 C5,12.224,4.776,12,4.5,12S4,12.224,4,12.5v1C4,13.776,4.224,14,4.5,14S5,13.776,5,13.5z M5,16.5v-1C5,15.224,4.776,15,4.5,15 S4,15.224,4,15.5v1C4,16.776,4.224,17,4.5,17S5,16.776,5,16.5z M5,19.5v-1C5,18.224,4.776,18,4.5,18S4,18.224,4,18.5v1 C4,19.776,4.224,20,4.5,20S5,19.776,5,19.5z M5,22.5v-1C5,21.224,4.776,21,4.5,21S4,21.224,4,21.5v1C4,22.776,4.224,23,4.5,23 S5,22.776,5,22.5z M5,25.5v-1C5,24.224,4.776,24,4.5,24S4,24.224,4,24.5v1C4,25.776,4.224,26,4.5,26S5,25.776,5,25.5z M5,28.5v-1 C5,27.224,4.776,27,4.5,27S4,27.224,4,27.5v1C4,28.776,4.224,29,4.5,29S5,28.776,5,28.5z M5,32v-1.5C5,30.224,4.776,30,4.5,30 S4,30.224,4,30.5V32H5z"})]})})]})};W.defaultProps={width:32};var $=W;var G=a(6822),Y=a(2694),J=[{href:"/",label:"Link to main page",icon:(0,D.jsx)(_,{className:"flex-shrink-0 mx-3"}),title:"Home"},{href:"/favorites",label:"Link to my favorites",icon:(0,D.jsx)(b,{className:"flex-shrink-0 mx-3"}),title:"Favorites"},{href:"/my-blogs",label:"Link to my blogs",icon:(0,D.jsx)(L,{className:"flex-shrink-0 mx-3"}),title:"My blogs"}];var X=(0,c.$j)((function(e){return{showDrawer:e.common.showDrawer}}))((function(e){var t=e.showDrawer,a=(0,c.I0)(),s=(0,i.s0)();return t&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(B,{isOpen:t,onClose:function(){return a((0,Y.c_)())}}),(0,D.jsxs)("div",{className:"flex flex-col gap-5 h-full fixed top-0 left-0 w-full max-w-[280px] bg-white z-50 py-5",children:[(0,D.jsxs)("div",{className:"flex items-center gap-3 p-2 mx-auto my-1 rounded-lg bg-slate-50",children:[(0,D.jsx)($,{}),(0,D.jsx)("span",{className:"capitalize",children:"bloggerzon"})]}),(0,D.jsx)("nav",{className:"flex-grow flex-shrink-0 basis-auto",children:J.map((function(e){var t=e.href,a=e.label,s=e.icon,r=e.title;return(0,D.jsxs)(G.OL,{to:t,className:function(e){var t=e.isActive;return"flex items-center w-full overflow-hidden h-12 min-w-[3rem] pl-3 rounded-tr-full rounded-br-full ".concat(t?"bg-slate-50 text-slate-950":"text-slate-800")},"aria-label":a,children:[s,(0,D.jsx)("span",{className:"ml-5 overflow-hidden text-ellipsis whitespace-nowrap",children:r})]},(0,I.Z)())}))}),(0,D.jsx)("div",{className:"flex-grow-0 flex-shrink-0 basis-auto",children:(0,D.jsxs)("button",{type:"button",onClick:function(){!function(){if(localStorage.getItem("dgtoken"))localStorage.removeItem("dgtoken")}(),a((0,Y.c_)()),s("/sign-in",{replace:!0})},className:"flex items-center justify-center gap-1 px-2 py-1 mx-auto rounded-md bg-slate-50",children:[(0,D.jsx)(q,{className:"text-red-400"}),(0,D.jsx)("span",{className:"capitalize",children:"sign out"})]})})]})]})})),K=(0,g.Z)("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),Q=function(){var e=(0,c.I0)();return(0,D.jsx)("footer",{className:"fixed bottom-0 right-0 w-full px-3 py-5",children:(0,D.jsx)("div",{className:"flex items-center",children:(0,D.jsx)("button",{"aria-label":"Add blog",type:"button",onClick:function(){return e((0,h.ZU)())},className:"p-2 mx-auto bg-white rounded-full shadow active:scale-95 shadow-slate-200 hover:shadow-slate-50",children:(0,D.jsx)(K,{className:"w-10 h-10"})})})})},ee=(0,g.Z)("menu","IconMenu",[["path",{d:"M4 8l16 0",key:"svg-0"}],["path",{d:"M4 16l16 0",key:"svg-1"}]]),te=(0,g.Z)("user-circle","IconUserCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]]),ae=(0,c.$j)((function(e){return{searchParam:e.common.searchParam,searching:e.common.searching,searchResults:e.common.searchResults,userID:e.global.user}}))((function(e){var t=e.searchParam,a=e.searchResults,s=e.searching,r=e.userID;return(0,D.jsx)("section",{className:"fixed top-24 right-3 left-3",children:(0,D.jsxs)("div",{className:"relative bg-white shadow shadow-slate-100 p-2 rounded-lg min-h-[320px] z-[100] max-h-[425px]",children:[t&&s&&(0,D.jsx)(n.Z,{}),t&&!s&&a.length>0&&(0,D.jsx)("div",{children:a.map((function(e){return(0,D.jsxs)("article",{className:"flex items-center justify-between p-2 overflow-hidden rounded-lg bg-slate-100",children:[(0,D.jsx)("p",{children:e.title}),(0,D.jsx)("img",{src:"hotcakes/".concat(r,"/").concat(e.thumbnail),alt:"Thumbnail for blog titled: ".concat(e.title),className:"h-24 rounded-md aspect-square"})]},e.id)}))}),t&&!s&&0===a.length&&(0,D.jsx)("div",{children:"No matching results."})]})})})),se=(0,c.$j)((function(e){return{searchParam:e.common.searchParam,searchResults:e.common.searchResults,showDrawer:e.common.showDrawer,searching:e.common.searching}}))((function(e){var t=e.showDrawer,a=e.searchParam,l=e.searching,n=(0,c.I0)(),i=(0,o.useCallback)((function(){if(!a.trim())return n((0,Y.Sc)([]));setTimeout((0,r.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,Y.n6)(!0)),e.prev=1,e.next=4,N.Z.get("/",a);case 4:t=e.sent,n((0,Y.Sc)(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n((0,d.y)({message:e.t0.message,color:"error"}));case 11:n((0,Y.n6)(!1));case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),1800)}),[n,a]);return(0,o.useEffect)((function(){a&&i()}),[i,a]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("header",{className:"fixed top-0 left-0 z-[100] w-full px-3 py-5",children:(0,D.jsxs)("div",{className:"flex items-center justify-between w-full max-w-screen-xl p-3 mx-auto bg-white rounded-full shadow shadow-gray-300",children:[(0,D.jsx)("button",{type:"button",className:"p-1 overflow-hidden rounded-full",onClick:function(){return n((0,Y.pF)())},"aria-label":t?"Close drawer":"Open drawer",children:(0,D.jsx)(ee,{})}),(0,D.jsxs)("form",{className:"flex items-center overflow-hidden rounded-md focus-within:bg-slate-50",onSubmit:i,children:[(0,D.jsx)("input",{type:"text",id:"blog-search",value:a,onChange:function(e){var t=e.target.value;n((0,Y.qu)(t)),n((0,Y.n6)(Boolean(t)))},placeholder:"Search",className:"w-full py-1 pl-2 outline-none bg-inherit"}),(0,D.jsx)("button",{type:"button","aria-label":"Clear","aria-disabled":!a||l,onClick:function(){a&&!l&&n((0,Y.qu)(""))},className:"p-1 rounded-md outline-none aria-disabled:opacity-5 focus:bg-slate-100",children:(0,D.jsx)(R.Z,{})})]}),(0,D.jsx)(G.rU,{"aria-label":"My Account",to:"/acc",className:"p-1 overflow-hidden rounded-full",children:(0,D.jsx)(te,{})})]})}),a.trim()&&(0,D.jsx)(ae,{})]})})),re=(0,c.$j)((function(e){return{blogs:e.home.blogs,loading:e.home.loading}}))((function(e){var t=e.blogs,a=e.loading,m=(0,c.I0)(),f=(0,i.s0)(),x=(0,o.useState)(null),g=(0,l.Z)(x,2),v=g[0],b=g[1];return(0,o.useEffect)((function(){var e=localStorage.getItem("dgtoken");if(e){var t=JSON.parse(e),a=t.id,s=t.token;return m((0,d.av)(a)),void(0,u.nv)(s)}f("/sign-in")}),[m,f]),(0,o.useEffect)((function(){function e(){return(e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m((0,p.dT)());case 3:return e.next=5,m((0,h.g_)());case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),b(e.t0),m((0,d.y)({message:e.t0.message,color:"error"}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]),(0,D.jsxs)("div",{role:"main",children:[(0,D.jsx)(se,{}),(0,D.jsx)(X,{}),(0,D.jsxs)("section",{className:"flex flex-col items-stretch min-h-screen px-3","aria-live":"polite",children:[a&&(0,D.jsx)(n.Z,{}),v&&(0,D.jsx)("div",{children:v.message}),!a&&!v&&0===t.length&&(0,D.jsx)("h1",{className:"m-auto text-2xl text-center text-slate-300",children:"No blogs right now."}),!a&&!v&&t.length>0&&(0,D.jsx)("div",{children:t.map((function(e){return(0,D.jsx)(V,{blog:e},e.id)}))})]}),(0,D.jsx)(H,{}),(0,D.jsx)(Q,{})]})}))}}]);
//# sourceMappingURL=929.d6e64042.chunk.js.map