import{d as ln,P as L,r as _,A as ce,u as Ze,j as t,e as cn,f as un,T as pn,g as Je,m as G,H as kt,h as dn,D as mn,i as fn,k as hn,l as _n,n as gn,X as Lt,o as Tn,c as xe,p as bn,U as En,N as xn,q as yn,M as An,t as Sn,L as wn,v as Rn}from"./index-0bbad18f.js";import{u as Nn,g as vn}from"./user-e25d8da4.js";import{v as A}from"./v4-a960c1f4.js";const ye=ln.create({baseURL:"/api/blogs"});async function It(o){const{data:n}=await ye.get("/",{params:{search:o}});return n}async function Cn(o){const n=localStorage.getItem("bloggerzon");if(n){const{token:l}=JSON.parse(n),{data:s}=await ye.post("/",o,{headers:{Authorization:`Bearer ${l}`}});return s}}async function _e(o,n){const l=localStorage.getItem("bloggerzon");if(l){const{token:s}=JSON.parse(l),{data:p}=await ye.patch(`/${o}`,n,{headers:{Authorization:`Bearer ${s}`}});return p}}async function Dn(o){const n=localStorage.getItem("bloggerzon");if(n){const{token:l}=JSON.parse(n),{data:s}=await ye.delete(`/${o}`,{headers:{Authorization:`Bearer ${l}`}});return s}}const On="_blog_1do73_1",kn="_blog-title_1do73_14",Ln="_blog-doohickeys_1do73_21",In="_fave-toggle-btn_1do73_25",Mn="_more-options-wrapper_1do73_43",jn="_more-options-toggle_1do73_51",Pn="_blog-thumbnail_1do73_61",Un="_btn-wrapper_1do73_66",Fn="_blog-content_1do73_83",W={blog:On,"blog-title":"_blog-title_1do73_14",blogTitle:kn,"blog-doohickeys":"_blog-doohickeys_1do73_21",blogDoohickeys:Ln,"fave-toggle-btn":"_fave-toggle-btn_1do73_25",faveToggleBtn:In,"more-options-wrapper":"_more-options-wrapper_1do73_43",moreOptionsWrapper:Mn,"more-options-toggle":"_more-options-toggle_1do73_51",moreOptionsToggle:jn,"blog-thumbnail":"_blog-thumbnail_1do73_61",blogThumbnail:Pn,"btn-wrapper":"_btn-wrapper_1do73_66",btnWrapper:Un,"blog-content":"_blog-content_1do73_83",blogContent:Fn},zn="_options-wrapper_1ae9r_1",Hn="_option_1ae9r_1",ze={"options-wrapper":"_options-wrapper_1ae9r_1",optionsWrapper:zn,option:Hn},Mt=({isOpen:o,toggle:n,blogId:l,authorId:s})=>{const{dispatch:p}=_.useContext(ce),{homeDispatch:d}=_.useContext(Y),[b,S]=_.useState(!1);_.useEffect(()=>{const c=localStorage.getItem("bloggerzon");if(c){const{id:r}=JSON.parse(c);r===s&&S(!0)}else{const r=Ze();localStorage.removeItem("bloggerzon"),r("/",{replace:!0})}},[]);function g(){n(!1),Dn(l).then(()=>{d(c=>({...c,blogs:c.blogs.filter(r=>r.id!==l)})),p(c=>({...c,notifs:c.notifs.concat({message:"Blog has been deleted.",color:"error",id:A()})}))}).catch(({message:c})=>p(r=>({...r,notifs:r.notifs.concat({message:c,color:"error",id:A()})})))}const f={general:[{id:A(),clickFunc:function(){},icon:t.jsx(cn,{}),label:"Share"}],protected:[{id:A(),clickFunc:function(){},icon:t.jsx(un,{}),label:"Edit"},{id:A(),clickFunc:g,icon:t.jsx(pn,{}),label:"Delete"}]},y={initial:{opacity:0,scale:1.5,pointerEvents:"none"},visible:{opacity:1,scale:1,pointerEvents:"auto"},exit:{opacity:0,scale:.5,pointerEvents:"none"}};return t.jsx(t.Fragment,{children:t.jsx(Je,{initial:!1,mode:"wait",onExitComplete:()=>{},children:o&&t.jsxs(G.div,{variants:y,initial:"initial",animate:"visible",exit:"exit",className:ze.optionsWrapper,role:"combobox",children:[f.general.map(({id:c,clickFunc:r,icon:h,label:C})=>t.jsxs("button",{role:"option",className:ze.option,type:"button",onClick:r,children:[h,t.jsx("span",{children:C})]},c)),b&&f.protected.map(({id:c,clickFunc:r,icon:h,label:C})=>t.jsxs("button",{role:"option",className:ze.option,type:"button",onClick:r,children:[h,t.jsx("span",{children:C})]},c))]})})})};Mt.propTypes={isOpen:L.bool.isRequired,toggle:L.func.isRequired,authorId:L.string.isRequired,blogId:L.string.isRequired};const jt=({blog:o})=>{const[n,l]=_.useState(null);_.useEffect(()=>{const c=localStorage.getItem("bloggerzon");if(c){const{id:r}=JSON.parse(c);l(r)}else Ze()("/",{replace:!0})},[]);const{dispatch:s}=_.useContext(ce),{homeStates:p,homeDispatch:d}=_.useContext(Y),[b,S]=_.useState(!1);async function g(){try{const{favorites:c}=await Nn({favorites:p.faves.includes(o.id)?p.faves.filter(r=>r!==o.id):[...p.faves,o.id]});d(r=>({...r,faves:c})),s(r=>({...r,notifs:r.notifs.concat({message:c.includes(o.id)?"Blog added to favorites":"Blog removed from favorites",color:"info",id:A()})}))}catch({message:c}){s(r=>({...r,notifs:r.notifs.concat({message:c,color:"error",id:A()})}))}}function f(){if(o.likes.includes(n))_e(o.id,{likes:o.likes.filter(c=>c!==n)}).then(({likes:c})=>d(r=>({...r,blogs:r.blogs.map(h=>h.id===o.id?{prvBlog:h,likes:c}:h)}))).catch(({message:c})=>s(r=>({...r,notifs:r.notifs.concat({message:c,color:"error",id:A()})})));else{const c={likes:[...o.likes,n]};o.dislikes.includes(n)&&(c.dislikes=o.dislikes.filter(r=>r!==n)),_e(o.id,c).then(({likes:r,dislikes:h})=>d(C=>({...C,blogs:C.blogs.map(j=>j.id===o.id?{...j,likes:r,dislikes:h}:j)}))).catch(({message:r})=>s(h=>({...h,notifs:h.notifs.concat({message:r,color:"error",id:A()})})))}}async function y(){if(o.dislikes.includes(n))try{const{dislikes:c}=await _e(o.id,{dislikes:o.dislikes.filter(r=>r!==n)});d(r=>({...r,blogs:r.blogs.map(h=>h.id===o.id?{...h,dislikes:c}:h)}))}catch({message:c}){s(r=>({...r,notifs:r.notifs.concat({message:c,color:"error",id:A()})}))}else{const c={dislikes:[...o.dislikes,n]};o.likes.includes(n)&&(c.likes=o.likes.filter(r=>r!==n)),_e(o.id,c).then(({likes:r,dislikes:h})=>d(C=>({...C,blogs:C.blogs.map(j=>j.id===o.id?{...j,likes:r,dislikes:h}:j)}))).catch(({message:r})=>s(h=>({...h,notifs:h.notifs.concat({message:r,color:"error",id:A()})})))}}return t.jsxs("article",{className:`${W.blog} blog-${o.id}`,children:[t.jsx("p",{className:W.blogTitle,children:o.title}),t.jsxs("div",{className:W.blogDoohickeys,children:[t.jsx("div",{className:W.faveToggleBtn,children:t.jsx("button",{"aria-label":p.faves.includes(o.id)?"remove from favorites":"add to favoriites",onClick:g,type:"button",children:p.faves.includes(o.id)?t.jsx(kt,{}):t.jsx(dn,{})})}),t.jsxs("div",{className:W.moreOptionsWrapper,children:[t.jsx("button",{type:"button","aria-label":"Show more options",onClick:()=>S(c=>!c),className:W.moreOptionsToggle,children:t.jsx(mn,{})}),t.jsx(Mt,{isOpen:b,toggle:S,blogId:o.id,authorId:o.author.id})]}),t.jsx("img",{className:W.blogThumbnail,src:o.thumbnail,alt:`thumbnail for blog titled: ${o.title}`}),t.jsxs("div",{className:W.btnWrapper,children:[t.jsx("button",{type:"button","aria-label":o.likes.includes(n)?"Unlike":"Like",onClick:f,children:o.likes.includes(n)?t.jsx(fn,{}):t.jsx(hn,{})}),t.jsx("button",{type:"button","aria-label":o.dislikes.includes(n)?"Remove dislike":"Disike",onClick:y,children:o.dislikes.includes(n)?t.jsx(_n,{}):t.jsx(gn,{})})]})]})]})};jt.propTypes={blog:L.object.isRequired};const Bn="_backdrop_xsey2_1",Wn="_close-btn_xsey2_15",At={backdrop:Bn,"close-btn":"_close-btn_xsey2_15",closeBtn:Wn},Qe=({isOpen:o,onClose:n,children:l})=>{const s={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};return t.jsx(Je,{initial:!1,mode:"wait",onExitComplete:()=>{},children:o&&t.jsxs(G.div,{className:At.backdrop,onClick:n,variants:s,initial:"hidden",animate:"visible",exit:"exit",children:[t.jsx(G.button,{type:"button","aria-label":"Close form",className:At.closeBtn,onClick:n,initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},children:t.jsx(Lt,{})}),l]})})};Qe.propTypes={isOpen:L.bool.isRequired,onClose:L.func.isRequired,children:L.node.isRequired};/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Pt,setPrototypeOf:St,isFrozen:Gn,getPrototypeOf:Yn,getOwnPropertyDescriptor:$n}=Object;let{freeze:O,seal:U,create:qn}=Object,{apply:qe,construct:Ve}=typeof Reflect<"u"&&Reflect;qe||(qe=function(n,l,s){return n.apply(l,s)});O||(O=function(n){return n});U||(U=function(n){return n});Ve||(Ve=function(n,l){return new n(...l)});const Vn=M(Array.prototype.forEach),wt=M(Array.prototype.pop),re=M(Array.prototype.push),Ee=M(String.prototype.toLowerCase),He=M(String.prototype.toString),Xn=M(String.prototype.match),P=M(String.prototype.replace),Kn=M(String.prototype.indexOf),Zn=M(String.prototype.trim),k=M(RegExp.prototype.test),le=Jn(TypeError);function M(o){return function(n){for(var l=arguments.length,s=new Array(l>1?l-1:0),p=1;p<l;p++)s[p-1]=arguments[p];return qe(o,n,s)}}function Jn(o){return function(){for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return Ve(o,l)}}function m(o,n,l){var s;l=(s=l)!==null&&s!==void 0?s:Ee,St&&St(o,null);let p=n.length;for(;p--;){let d=n[p];if(typeof d=="string"){const b=l(d);b!==d&&(Gn(n)||(n[p]=b),d=b)}o[d]=!0}return o}function ne(o){const n=qn(null);for(const[l,s]of Pt(o))n[l]=s;return n}function ge(o,n){for(;o!==null;){const s=$n(o,n);if(s){if(s.get)return M(s.get);if(typeof s.value=="function")return M(s.value)}o=Yn(o)}function l(s){return console.warn("fallback value for",s),null}return l}const Rt=O(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Be=O(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),We=O(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Qn=O(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ge=O(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),eo=O(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Nt=O(["#text"]),vt=O(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ye=O(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ct=O(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Te=O(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),to=U(/\{\{[\w\W]*|[\w\W]*\}\}/gm),no=U(/<%[\w\W]*|[\w\W]*%>/gm),oo=U(/\${[\w\W]*}/gm),io=U(/^data-[\-\w.\u00B7-\uFFFF]/),ao=U(/^aria-[\-\w]+$/),Ut=U(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),so=U(/^(?:\w+script|data):/i),ro=U(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ft=U(/^html$/i);var Dt=Object.freeze({__proto__:null,MUSTACHE_EXPR:to,ERB_EXPR:no,TMPLIT_EXPR:oo,DATA_ATTR:io,ARIA_ATTR:ao,IS_ALLOWED_URI:Ut,IS_SCRIPT_OR_DATA:so,ATTR_WHITESPACE:ro,DOCTYPE_NAME:Ft});const lo=()=>typeof window>"u"?null:window,co=function(n,l){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let s=null;const p="data-tt-policy-suffix";l&&l.hasAttribute(p)&&(s=l.getAttribute(p));const d="dompurify"+(s?"#"+s:"");try{return n.createPolicy(d,{createHTML(b){return b},createScriptURL(b){return b}})}catch{return console.warn("TrustedTypes policy "+d+" could not be created."),null}};function zt(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lo();const n=u=>zt(u);if(n.version="3.0.5",n.removed=[],!o||!o.document||o.document.nodeType!==9)return n.isSupported=!1,n;const l=o.document,s=l.currentScript;let{document:p}=o;const{DocumentFragment:d,HTMLTemplateElement:b,Node:S,Element:g,NodeFilter:f,NamedNodeMap:y=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:c,DOMParser:r,trustedTypes:h}=o,C=g.prototype,j=ge(C,"cloneNode"),Wt=ge(C,"nextSibling"),Gt=ge(C,"childNodes"),Ae=ge(C,"parentNode");if(typeof b=="function"){const u=p.createElement("template");u.content&&u.content.ownerDocument&&(p=u.content.ownerDocument)}let D,ie="";const{implementation:Se,createNodeIterator:Yt,createDocumentFragment:$t,getElementsByTagName:qt}=p,{importNode:Vt}=l;let F={};n.isSupported=typeof Pt=="function"&&typeof Ae=="function"&&Se&&Se.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:we,ERB_EXPR:Re,TMPLIT_EXPR:Ne,DATA_ATTR:Xt,ARIA_ATTR:Kt,IS_SCRIPT_OR_DATA:Zt,ATTR_WHITESPACE:et}=Dt;let{IS_ALLOWED_URI:tt}=Dt,w=null;const nt=m({},[...Rt,...Be,...We,...Ge,...Nt]);let R=null;const ot=m({},[...vt,...Ye,...Ct,...Te]);let x=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,ve=null,it=!0,Ce=!0,at=!1,st=!0,K=!1,$=!1,De=!1,Oe=!1,Z=!1,ue=!1,pe=!1,rt=!0,lt=!1;const Jt="user-content-";let ke=!0,se=!1,J={},Q=null;const ct=m({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ut=null;const pt=m({},["audio","video","img","source","image","track"]);let Le=null;const dt=m({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),de="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",H="http://www.w3.org/1999/xhtml";let ee=H,Ie=!1,Me=null;const Qt=m({},[de,me,H],He);let q;const en=["application/xhtml+xml","text/html"],tn="text/html";let N,te=null;const nn=p.createElement("form"),mt=function(e){return e instanceof RegExp||e instanceof Function},je=function(e){if(!(te&&te===e)){if((!e||typeof e!="object")&&(e={}),e=ne(e),q=en.indexOf(e.PARSER_MEDIA_TYPE)===-1?q=tn:q=e.PARSER_MEDIA_TYPE,N=q==="application/xhtml+xml"?He:Ee,w="ALLOWED_TAGS"in e?m({},e.ALLOWED_TAGS,N):nt,R="ALLOWED_ATTR"in e?m({},e.ALLOWED_ATTR,N):ot,Me="ALLOWED_NAMESPACES"in e?m({},e.ALLOWED_NAMESPACES,He):Qt,Le="ADD_URI_SAFE_ATTR"in e?m(ne(dt),e.ADD_URI_SAFE_ATTR,N):dt,ut="ADD_DATA_URI_TAGS"in e?m(ne(pt),e.ADD_DATA_URI_TAGS,N):pt,Q="FORBID_CONTENTS"in e?m({},e.FORBID_CONTENTS,N):ct,ae="FORBID_TAGS"in e?m({},e.FORBID_TAGS,N):{},ve="FORBID_ATTR"in e?m({},e.FORBID_ATTR,N):{},J="USE_PROFILES"in e?e.USE_PROFILES:!1,it=e.ALLOW_ARIA_ATTR!==!1,Ce=e.ALLOW_DATA_ATTR!==!1,at=e.ALLOW_UNKNOWN_PROTOCOLS||!1,st=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,K=e.SAFE_FOR_TEMPLATES||!1,$=e.WHOLE_DOCUMENT||!1,Z=e.RETURN_DOM||!1,ue=e.RETURN_DOM_FRAGMENT||!1,pe=e.RETURN_TRUSTED_TYPE||!1,Oe=e.FORCE_BODY||!1,rt=e.SANITIZE_DOM!==!1,lt=e.SANITIZE_NAMED_PROPS||!1,ke=e.KEEP_CONTENT!==!1,se=e.IN_PLACE||!1,tt=e.ALLOWED_URI_REGEXP||Ut,ee=e.NAMESPACE||H,x=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&mt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(x.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&mt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(x.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(x.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(Ce=!1),ue&&(Z=!0),J&&(w=m({},[...Nt]),R=[],J.html===!0&&(m(w,Rt),m(R,vt)),J.svg===!0&&(m(w,Be),m(R,Ye),m(R,Te)),J.svgFilters===!0&&(m(w,We),m(R,Ye),m(R,Te)),J.mathMl===!0&&(m(w,Ge),m(R,Ct),m(R,Te))),e.ADD_TAGS&&(w===nt&&(w=ne(w)),m(w,e.ADD_TAGS,N)),e.ADD_ATTR&&(R===ot&&(R=ne(R)),m(R,e.ADD_ATTR,N)),e.ADD_URI_SAFE_ATTR&&m(Le,e.ADD_URI_SAFE_ATTR,N),e.FORBID_CONTENTS&&(Q===ct&&(Q=ne(Q)),m(Q,e.FORBID_CONTENTS,N)),ke&&(w["#text"]=!0),$&&m(w,["html","head","body"]),w.table&&(m(w,["tbody"]),delete ae.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw le('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw le('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');D=e.TRUSTED_TYPES_POLICY,ie=D.createHTML("")}else D===void 0&&(D=co(h,s)),D!==null&&typeof ie=="string"&&(ie=D.createHTML(""));O&&O(e),te=e}},ft=m({},["mi","mo","mn","ms","mtext"]),ht=m({},["foreignobject","desc","title","annotation-xml"]),on=m({},["title","style","font","a","script"]),fe=m({},Be);m(fe,We),m(fe,Qn);const Pe=m({},Ge);m(Pe,eo);const an=function(e){let i=Ae(e);(!i||!i.tagName)&&(i={namespaceURI:ee,tagName:"template"});const a=Ee(e.tagName),T=Ee(i.tagName);return Me[e.namespaceURI]?e.namespaceURI===me?i.namespaceURI===H?a==="svg":i.namespaceURI===de?a==="svg"&&(T==="annotation-xml"||ft[T]):!!fe[a]:e.namespaceURI===de?i.namespaceURI===H?a==="math":i.namespaceURI===me?a==="math"&&ht[T]:!!Pe[a]:e.namespaceURI===H?i.namespaceURI===me&&!ht[T]||i.namespaceURI===de&&!ft[T]?!1:!Pe[a]&&(on[a]||!fe[a]):!!(q==="application/xhtml+xml"&&Me[e.namespaceURI]):!1},V=function(e){re(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch{e.remove()}},Ue=function(e,i){try{re(n.removed,{attribute:i.getAttributeNode(e),from:i})}catch{re(n.removed,{attribute:null,from:i})}if(i.removeAttribute(e),e==="is"&&!R[e])if(Z||ue)try{V(i)}catch{}else try{i.setAttribute(e,"")}catch{}},_t=function(e){let i,a;if(Oe)e="<remove></remove>"+e;else{const I=Xn(e,/^[\r\n\t ]+/);a=I&&I[0]}q==="application/xhtml+xml"&&ee===H&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const T=D?D.createHTML(e):e;if(ee===H)try{i=new r().parseFromString(T,q)}catch{}if(!i||!i.documentElement){i=Se.createDocument(ee,"template",null);try{i.documentElement.innerHTML=Ie?ie:T}catch{}}const v=i.body||i.documentElement;return e&&a&&v.insertBefore(p.createTextNode(a),v.childNodes[0]||null),ee===H?qt.call(i,$?"html":"body")[0]:$?i.documentElement:v},gt=function(e){return Yt.call(e.ownerDocument||e,e,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT,null,!1)},sn=function(e){return e instanceof c&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof y)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},he=function(e){return typeof S=="object"?e instanceof S:e&&typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string"},B=function(e,i,a){F[e]&&Vn(F[e],T=>{T.call(n,i,a,te)})},Tt=function(e){let i;if(B("beforeSanitizeElements",e,null),sn(e))return V(e),!0;const a=N(e.nodeName);if(B("uponSanitizeElement",e,{tagName:a,allowedTags:w}),e.hasChildNodes()&&!he(e.firstElementChild)&&(!he(e.content)||!he(e.content.firstElementChild))&&k(/<[/\w]/g,e.innerHTML)&&k(/<[/\w]/g,e.textContent))return V(e),!0;if(!w[a]||ae[a]){if(!ae[a]&&Et(a)&&(x.tagNameCheck instanceof RegExp&&k(x.tagNameCheck,a)||x.tagNameCheck instanceof Function&&x.tagNameCheck(a)))return!1;if(ke&&!Q[a]){const T=Ae(e)||e.parentNode,v=Gt(e)||e.childNodes;if(v&&T){const I=v.length;for(let E=I-1;E>=0;--E)T.insertBefore(j(v[E],!0),Wt(e))}}return V(e),!0}return e instanceof g&&!an(e)||(a==="noscript"||a==="noembed"||a==="noframes")&&k(/<\/no(script|embed|frames)/i,e.innerHTML)?(V(e),!0):(K&&e.nodeType===3&&(i=e.textContent,i=P(i,we," "),i=P(i,Re," "),i=P(i,Ne," "),e.textContent!==i&&(re(n.removed,{element:e.cloneNode()}),e.textContent=i)),B("afterSanitizeElements",e,null),!1)},bt=function(e,i,a){if(rt&&(i==="id"||i==="name")&&(a in p||a in nn))return!1;if(!(Ce&&!ve[i]&&k(Xt,i))){if(!(it&&k(Kt,i))){if(!R[i]||ve[i]){if(!(Et(e)&&(x.tagNameCheck instanceof RegExp&&k(x.tagNameCheck,e)||x.tagNameCheck instanceof Function&&x.tagNameCheck(e))&&(x.attributeNameCheck instanceof RegExp&&k(x.attributeNameCheck,i)||x.attributeNameCheck instanceof Function&&x.attributeNameCheck(i))||i==="is"&&x.allowCustomizedBuiltInElements&&(x.tagNameCheck instanceof RegExp&&k(x.tagNameCheck,a)||x.tagNameCheck instanceof Function&&x.tagNameCheck(a))))return!1}else if(!Le[i]){if(!k(tt,P(a,et,""))){if(!((i==="src"||i==="xlink:href"||i==="href")&&e!=="script"&&Kn(a,"data:")===0&&ut[e])){if(!(at&&!k(Zt,P(a,et,"")))){if(a)return!1}}}}}}return!0},Et=function(e){return e.indexOf("-")>0},xt=function(e){let i,a,T,v;B("beforeSanitizeAttributes",e,null);const{attributes:I}=e;if(!I)return;const E={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:R};for(v=I.length;v--;){i=I[v];const{name:z,namespaceURI:Fe}=i;if(a=z==="value"?i.value:Zn(i.value),T=N(z),E.attrName=T,E.attrValue=a,E.keepAttr=!0,E.forceKeepAttr=void 0,B("uponSanitizeAttribute",e,E),a=E.attrValue,E.forceKeepAttr||(Ue(z,e),!E.keepAttr))continue;if(!st&&k(/\/>/i,a)){Ue(z,e);continue}K&&(a=P(a,we," "),a=P(a,Re," "),a=P(a,Ne," "));const yt=N(e.nodeName);if(bt(yt,T,a)){if(lt&&(T==="id"||T==="name")&&(Ue(z,e),a=Jt+a),D&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!Fe)switch(h.getAttributeType(yt,T)){case"TrustedHTML":{a=D.createHTML(a);break}case"TrustedScriptURL":{a=D.createScriptURL(a);break}}try{Fe?e.setAttributeNS(Fe,z,a):e.setAttribute(z,a),wt(n.removed)}catch{}}}B("afterSanitizeAttributes",e,null)},rn=function u(e){let i;const a=gt(e);for(B("beforeSanitizeShadowDOM",e,null);i=a.nextNode();)B("uponSanitizeShadowNode",i,null),!Tt(i)&&(i.content instanceof d&&u(i.content),xt(i));B("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(u){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,a,T,v;if(Ie=!u,Ie&&(u="<!-->"),typeof u!="string"&&!he(u))if(typeof u.toString=="function"){if(u=u.toString(),typeof u!="string")throw le("dirty is not a string, aborting")}else throw le("toString is not a function");if(!n.isSupported)return u;if(De||je(e),n.removed=[],typeof u=="string"&&(se=!1),se){if(u.nodeName){const z=N(u.nodeName);if(!w[z]||ae[z])throw le("root node is forbidden and cannot be sanitized in-place")}}else if(u instanceof S)i=_t("<!---->"),a=i.ownerDocument.importNode(u,!0),a.nodeType===1&&a.nodeName==="BODY"||a.nodeName==="HTML"?i=a:i.appendChild(a);else{if(!Z&&!K&&!$&&u.indexOf("<")===-1)return D&&pe?D.createHTML(u):u;if(i=_t(u),!i)return Z?null:pe?ie:""}i&&Oe&&V(i.firstChild);const I=gt(se?u:i);for(;T=I.nextNode();)Tt(T)||(T.content instanceof d&&rn(T.content),xt(T));if(se)return u;if(Z){if(ue)for(v=$t.call(i.ownerDocument);i.firstChild;)v.appendChild(i.firstChild);else v=i;return(R.shadowroot||R.shadowrootmode)&&(v=Vt.call(l,v,!0)),v}let E=$?i.outerHTML:i.innerHTML;return $&&w["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&k(Ft,i.ownerDocument.doctype.name)&&(E="<!DOCTYPE "+i.ownerDocument.doctype.name+`>
`+E),K&&(E=P(E,we," "),E=P(E,Re," "),E=P(E,Ne," ")),D&&pe?D.createHTML(E):E},n.setConfig=function(u){je(u),De=!0},n.clearConfig=function(){te=null,De=!1},n.isValidAttribute=function(u,e,i){te||je({});const a=N(u),T=N(e);return bt(a,T,i)},n.addHook=function(u,e){typeof e=="function"&&(F[u]=F[u]||[],re(F[u],e))},n.removeHook=function(u){if(F[u])return wt(F[u])},n.removeHooks=function(u){F[u]&&(F[u]=[])},n.removeAllHooks=function(){F={}},n}var Xe=zt();const uo="_input_p4mpc_1",po={input:uo},Ke=({label:o,placeholder:n,value:l,onInput:s,...p})=>{const d=_.useRef(null);_.useEffect(()=>{d.current&&(d.current.textContent=l||"")},[l]);function b(){if(d.current){const g=Xe.sanitize(d.current.textContent);s(g)}}function S(g){g.key==="Enter"&&!g.shiftKey&&g.preventDefault()}return t.jsx("div",{contentEditable:!0,role:"textbox","aria-label":o,"data-placeholder":n,onInput:b,onKeyDown:S,ref:d,className:po.input,"aria-multiline":"true",spellCheck:!0,tabIndex:0,...p})};Ke.propTypes={label:L.string,placeholder:L.string,value:L.string,onInput:L.func.isRequired};const mo="_form-wrapper_mv4d9_1",fo="_create-form_mv4d9_6",ho="_field-wrapper_mv4d9_18",_o="_content-wrapper_mv4d9_34",go="_choose-thumbnail_mv4d9_42",To="_thumbnail-preview_mv4d9_71",X={"form-wrapper":"_form-wrapper_mv4d9_1",formWrapper:mo,"create-form":"_create-form_mv4d9_6",createForm:fo,"field-wrapper":"_field-wrapper_mv4d9_18",fieldWrapper:ho,"content-wrapper":"_content-wrapper_mv4d9_34",contentWrapper:_o,"choose-thumbnail":"_choose-thumbnail_mv4d9_42",chooseThumbnail:go,"thumbnail-preview":"_thumbnail-preview_mv4d9_71",thumbnailPreview:To},Ot={title:"",content:"",thumbnail:null},bo=()=>{const{dispatch:o}=_.useContext(ce),{homeStates:{formIsOpen:n},homeDispatch:l}=_.useContext(Y),[s,p]=_.useState(Ot),[d,b]=_.useState(!1);function S(){l(c=>({...c,formIsOpen:!1}))}function g(c){c.preventDefault(),b(!0),Cn(s).then(r=>{l(h=>({...h,blogs:[...h.blogs,r]})),o(h=>({...h,notifs:h.notifs.concat({message:"Blog Uploaded",color:"success",id:A()})}))}).catch(({message:r})=>o(h=>({...h,notifs:h.notifs.concat({message:r,color:"error",id:A()})}))).finally(()=>{b(!1),p(Ot)})}function f(c){const r=c.target.files[0],h=new FileReader;h.onload=C=>p(j=>({...j,thumbnail:C.target.result})),h.readAsDataURL(r)}const y={hidden:{y:"100%",opacity:0},visible:{y:"0",opacity:1},exit:{y:"100%",opacity:0}};return t.jsx(Qe,{isOpen:n,onClose:S,children:t.jsx(G.div,{className:X.formWrapper,variants:y,initial:"hidden",animate:"visible",exit:"exit",children:t.jsxs("form",{onClick:c=>c.stopPropagation(),action:"/upload-blog",method:"POST",encType:"multipart/form-data",onSubmit:g,className:X.createForm,children:[t.jsx("div",{className:X.fieldWrapper,children:t.jsx(Ke,{label:"Title",placeholder:"title",onInput:c=>p(r=>({...r,title:c})),value:Xe.sanitize(s.title)})}),t.jsx("div",{className:[X.fieldWrapper,X.contentWrapper].join(" "),children:t.jsx(Ke,{label:"Content",placeholder:"content",onInput:c=>p(r=>({...r,content:c})),value:Xe.sanitize(s.content)})}),t.jsxs("div",{className:X.chooseThumbnail,children:[t.jsxs("label",{htmlFor:"blog-thumbnail",children:[t.jsx(Tn,{}),s.thumbnail?"change":"pick a"," thumbnail"]}),t.jsx("input",{type:"file",accept:"image/*",name:"thumbnail",id:"blog-thumbnail",onChange:f}),s.thumbnail&&t.jsx("img",{src:s.thumbnail,alt:"Thumbnail Preview",className:X.thumbnailPreview})]}),t.jsx("button",{type:"submit",disabled:!(s.title.trim()&&s.content.trim())||d,"aria-label":"upload blog",children:d?t.jsx(xe,{width:18}):"upload"})]})})})},Ht=({width:o})=>t.jsxs("svg",{height:o||"24px",width:o||"24px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 511.6 511.6",xmlSpace:"preserve",fill:"#000000",children:[t.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),t.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsxs("g",{id:"SVGRepo_iconCarrier",children:[t.jsx("polygon",{style:{fill:"#FFCE54"},points:"315.753,74.602 0,74.602 0,394.344 234.488,394.344 319.75,436.998 319.735,394.344 383.699,394.344 383.699,138.552 "}),t.jsx("polygon",{style:{fill:"#E6E9ED"},points:"483.122,335.734 454.801,335.734 426.322,424.555 468.977,452.986 511.6,424.555 "}),t.jsxs("g",{children:[t.jsx("path",{style:{fill:"#656D78"},d:"M468.977,58.614c-23.56,0-42.654,19.086-42.654,42.638v277.104H511.6V101.253 C511.6,77.701,492.522,58.614,468.977,58.614z"}),t.jsx("path",{style:{fill:"#656D78"},d:"M319.75,310.378H63.95c-5.887,0-10.656-4.777-10.656-10.647c0-5.902,4.77-10.664,10.656-10.664 h255.8c5.886,0,10.647,4.762,10.647,10.664C330.398,305.601,325.636,310.378,319.75,310.378z"}),t.jsx("path",{style:{fill:"#656D78"},d:"M319.75,246.436H63.95c-5.887,0-10.656-4.778-10.656-10.664s4.77-10.656,10.656-10.656h255.8 c5.886,0,10.647,4.77,10.647,10.656S325.636,246.436,319.75,246.436z"}),t.jsx("path",{style:{fill:"#656D78"},d:"M202.506,182.487H63.95c-5.887,0-10.656-4.778-10.656-10.664s4.77-10.655,10.656-10.655h138.556 c5.886,0,10.663,4.77,10.663,10.655C213.169,177.709,208.392,182.487,202.506,182.487z"})]}),t.jsx("polygon",{style:{fill:"#F6BB42"},points:"315.753,74.602 315.753,138.552 383.699,138.552 "})]})]});Ht.propTypes={width:L.number};const Eo="_drawer_tsd9l_1",xo="_drawer-header_tsd9l_12",yo="_nav-section_tsd9l_27",Ao="_navlinks_tsd9l_32",So="_current_tsd9l_48",wo="_footer_tsd9l_72",oe={drawer:Eo,"drawer-header":"_drawer-header_tsd9l_12",drawerHeader:xo,"nav-section":"_nav-section_tsd9l_27",navSection:yo,navlinks:Ao,current:So,footer:wo},Ro=[{href:"/",aria:"Link to main page",id:A(),icon:t.jsx(bn,{}),label:"Home"},{href:"/favorites",aria:"Link to my favorites",id:A(),icon:t.jsx(kt,{}),label:"Favorites"},{href:"/my-blogs",aria:"Link to my blogs",id:A(),icon:t.jsx(En,{}),label:"My blogs"}],No=()=>{const{homeStates:{drawerIsOpen:o},homeDispatch:n}=_.useContext(Y);return t.jsx(Qe,{isOpen:o,onClose:()=>n(l=>({...l,drawerIsOpen:!1})),children:t.jsxs(G.aside,{className:oe.drawer,initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"-100%"},onClick:l=>l.stopPropagation(),children:[t.jsx("header",{className:oe.drawerHeader,children:t.jsxs("div",{children:[t.jsx(Ht,{}),t.jsx("span",{children:"Bloggerzon"})]})}),t.jsx("nav",{className:oe.navSection,children:Ro.map(({href:l,aria:s,id:p,icon:d,label:b})=>t.jsxs(xn,{to:l,className:({isActive:S})=>`${oe.navlinks}${S?` ${oe.current}`:""}`,"aria-label":s,children:[d,t.jsx("span",{children:b})]},p))}),t.jsx("section",{className:oe.footer,children:t.jsx("a",{href:"https://github.com/purrrplelipton",target:"_blank",rel:"noopener noreferrer",children:"Purrrplelipton"})})]})})},vo="_toolbar_5htww_1",Co="_X7tY4Z_5htww_1",Do="_X7tY4Z_5htww_1",Oo={toolbar:vo,X7tY4Z:Co,x7TY4Z:Do},ko=()=>{const{homeDispatch:o}=_.useContext(Y);return t.jsx(G.footer,{className:Oo.toolbar,whileTap:{scale:.9},whileHover:{scale:1.1},children:t.jsx("button",{"aria-label":"create blog",type:"button",onClick:()=>o(n=>({...n,formIsOpen:!0})),children:t.jsx(yn,{})})})},Lo="_header_1gva4_1",Io="_drawer-toggler_1gva4_19",Mo="_blog-search_1gva4_28",jo="_user-info_1gva4_66",be={header:Lo,"drawer-toggler":"_drawer-toggler_1gva4_19",drawerToggler:Io,"blog-search":"_blog-search_1gva4_28",blogSearch:Mo,"user-info":"_user-info_1gva4_66",userInfo:jo},Po="_search-results-section_98cto_1",Uo="_fetched-blog_98cto_15",$e={"search-results-section":"_search-results-section_98cto_1",searchResultsSection:Po,"fetched-blog":"_fetched-blog_98cto_15",fetchedBlog:Uo},Fo=()=>{const{homeStates:{searchQuery:o}}=_.useContext(Y),{headerStates:{fetching:n,queryResults:l}}=_.useContext(Bt);return t.jsx(t.Fragment,{children:t.jsx(Je,{initial:!1,mode:"wait",children:(o.trim()||n)&&t.jsx(G.section,{initial:{oapcity:0,y:"-100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"-100%"},className:$e.searchResultsSection,children:n?t.jsx(xe,{width:32}):l.length?l.map(s=>t.jsxs("article",{className:$e.fetchedBlog,children:[t.jsx("p",{className:$e.blogTitle,children:s.title}),t.jsx("img",{src:s.thumbnail,alt:`Thumbnail for blog titled: ${s.title}`})]},s.id)):t.jsx("p",{children:"No matching results."})})})})},Bt=_.createContext(null),zo=()=>{const{homeStates:{drawerIsOpen:o,searchQuery:n},homeDispatch:l}=_.useContext(Y),{dispatch:s}=_.useContext(ce),[p,d]=_.useState({fetching:!1,queryResults:[]}),[b,S]=_.useState(null);_.useEffect(()=>{if(n.trim()){b&&clearTimeout(b);const f=setTimeout(()=>g(),750);S(f)}},[n]);function g(){d(f=>({...f,fetching:!0})),n.trim()?It(n.trim()).then(f=>d(y=>({...y,queryResults:f}))).catch(({message:f})=>s(y=>({...y,notifs:y.notifs.concat({message:f,color:"error",id:A()})}))).finally(()=>d(f=>({...f,fetching:!1}))):d(f=>({...f,queryResults:[]}))}return t.jsxs(Bt.Provider,{value:{headerStates:p,headerDispatch:d},children:[t.jsxs("header",{className:be.header,children:[t.jsx("button",{type:"button",className:be.drawerToggler,onClick:()=>l(f=>({...f,drawerIsOpen:!f.drawerIsOpen})),"aria-label":o?"Close drawer":"Open drawer",children:t.jsx(An,{})}),t.jsxs("form",{method:"GET",action:"/get-blog",className:be.blogSearch,onSubmit:g,children:[t.jsx("input",{type:"text",id:"blog-search",value:n,onChange:f=>{const y=f.target.value;l(c=>({...c,searchQuery:y})),d(c=>({...c,fetching:!!y.trim()}))},placeholder:"search"}),t.jsx("button",{type:n.trim()?"reset":"submit","aria-label":n.trim()?"Clear search":"Search",disabled:!n.trim()||p.fetching,onClick:f=>{f.preventDefault(),f.currentTarget.type==="reset"&&(l(y=>({...y,searchQuery:""})),d(y=>({...y,fetching:!1,queryResults:[]})))},children:p.fetching?t.jsx(xe,{width:24}):n.trim()?t.jsx(Lt,{}):t.jsx(Sn,{})})]}),t.jsx(wn,{"aria-label":"my account",to:"/acc",className:be.userInfo,children:t.jsx(Rn,{})})]}),t.jsx(Fo,{})]})},Ho="_blogs_1mcdc_1",Bo={blogs:Ho},Y=_.createContext(null),qo=()=>{const o=Ze(),n=localStorage.getItem("bloggerzon");if(n){JSON.parse(n).id;const{dispatch:l}=_.useContext(ce),[s,p]=_.useState({drawerIsOpen:!1,searchQuery:"",blogs:[],faves:[],formIsOpen:!1}),[d,b]=_.useState(!1);_.useEffect(()=>{b(!0),It().then(g=>p(f=>({...f,blogs:g}))).catch(({message:g})=>l(f=>({notifs:f.notifs.concat({message:g,color:["secondary","info","success","warning","error"][Math.floor(Math.random()*5)],id:A()})}))).finally(()=>b(!1))},[]),_.useEffect(()=>{vn().then(({favorites:g})=>p(f=>({...f,faves:g}))).catch(({message:g})=>{l(f=>({...f,notifs:f.notifs.concat({message:g,color:"error",id:A()})}))})},[]);const S={hidden:{opacity:0,x:"100%"},visible:{opacity:1,x:0},exit:{opacity:0,x:"-100%"}};return t.jsx(Y.Provider,{value:{homeStates:s,homeDispatch:p},children:t.jsxs(G.main,{variant:S,initial:"hidden",animate:"visible",exit:"exit",children:[t.jsx(zo,{}),t.jsx(No,{}),t.jsx("section",{className:Bo.blogs,"aria-live":"polite",children:d?t.jsx(xe,{text:"Please wait",width:40}):s.blogs.map(g=>t.jsx(jt,{blog:g},g.id))}),t.jsx(bo,{}),t.jsx(ko,{})]})})}else return o("/",{replace:!0})};export{Y as HomeContext,qo as default};
