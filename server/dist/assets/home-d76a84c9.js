import{d as Zt,P as z,r as R,A as ge,j as s,H as Jt,e as Qt,T as en,f as tn,g as nn,h as on,i as an,m as ae,X as sn,k as rn,c as $e,l as ln,M as cn,n as un,L as mn,U as fn,u as pn}from"./index-e42751e5.js";import{u as dn,g as hn}from"./user-73273acf.js";import{v}from"./v4-a960c1f4.js";const Xe=Zt.create({baseURL:"/api/blogs"});async function Rt(o){const{data:t}=await Xe.get("/",{params:{search:o}});return t}async function _n(o){const t=localStorage.getItem("bloggerzon");if(t){const{token:l}=JSON.parse(t),{data:a}=await Xe.post("/",o,{headers:{Authorization:`Bearer ${l}`}});return a}}async function pe(o,t){const l=localStorage.getItem("bloggerzon");if(l){const{token:a}=JSON.parse(l),{data:c}=await Xe.patch(`/${o}`,t,{headers:{Authorization:`Bearer ${a}`}});return c}}const Tn="_blog_fmaa2_1",gn="_blog-title_fmaa2_15",bn="_blog-doohickeys_fmaa2_35",En="_fave-toggle-btn_fmaa2_39",An="_blog-thumbnail_fmaa2_57",yn="_btn-wrapper_fmaa2_62",Sn="_blog-content_fmaa2_79",J={blog:Tn,"blog-title":"_blog-title_fmaa2_15",blogTitle:gn,"blog-doohickeys":"_blog-doohickeys_fmaa2_35",blogDoohickeys:bn,"fave-toggle-btn":"_fave-toggle-btn_fmaa2_39",faveToggleBtn:En,"blog-thumbnail":"_blog-thumbnail_fmaa2_57",blogThumbnail:An,"btn-wrapper":"_btn-wrapper_fmaa2_62",btnWrapper:yn,"blog-content":"_blog-content_fmaa2_79",blogContent:Sn},Nt=({blog:o})=>{let t=null;const l=localStorage.getItem("bloggerzon");l&&(t=JSON.parse(l).id);const{dispatch:a}=R.useContext(ge),{homeStates:c,homeDispatch:p}=R.useContext(se);async function b(){try{const{favorites:f}=await dn({favorites:c.faves.includes(o.id)?c.faves.filter(m=>m!==o.id):[...c.faves,o.id]});p(m=>({...m,faves:f})),a(m=>({...m,notifs:m.notifs.concat({message:f.includes(o.id)?"Blog added to favorites":"Blog removed from favorites",color:"info",id:v()})}))}catch({message:f}){a(m=>({...m,notifs:m.notifs.concat({message:f,color:"error",id:v()})}))}}function A(){if(o.likes.includes(t))pe(o.id,{userId:t,updatedProps:{likes:o.likes.filter(f=>f!==t)}}).then(({likes:f})=>p(m=>({...m,blogs:m.blogs.map(d=>d.id===o.id?{prvBlog:d,likes:f}:d)}))).catch(({message:f})=>a(m=>({...m,notifs:m.notifs.concat({message:f,color:"error",id:v()})})));else{const f={likes:[...o.likes,t]};o.dislikes.includes(t)&&(f.dislikes=o.dislikes.filter(m=>m!==t)),pe(o.id,{userId:t,updatedProps:f}).then(({likes:m,dislikes:d})=>p(N=>({...N,blogs:N.blogs.map(T=>T.id===o.id?{...T,likes:m,dislikes:d}:T)}))).catch(({message:m})=>a(d=>({...d,notifs:d.notifs.concat({message:m,color:"error",id:v()})})))}}async function h(){if(o.dislikes.includes(t))try{const{dislikes:f}=await pe(o.id,{userId:t,updatedProps:{dislikes:o.dislikes.filter(m=>m!==t)}});p(m=>({...m,blogs:m.blogs.map(d=>d.id===o.id?{...d,dislikes:f}:d)}))}catch({message:f}){a(m=>({...m,notifs:m.notifs.concat({message:f,color:"error",id:v()})}))}else{const f={dislikes:[...o.dislikes,t]};o.likes.includes(t)&&(f.likes=o.likes.filter(m=>m!==t)),pe(o.id,{userId:t,updatedProps:f}).then(({likes:m,dislikes:d})=>p(N=>({...N,blogs:N.blogs.map(T=>T.id===o.id?{...T,likes:m,dislikes:d}:T)}))).catch(({message:m})=>a(d=>({...d,notifs:d.notifs.concat({message:m,color:"error",id:v()})})))}}return s.jsxs("article",{className:`${J.blog} blog-${o.id}`,children:[s.jsx("p",{className:J.blogTitle,children:o.title}),s.jsxs("div",{className:J.blogDoohickeys,children:[s.jsx("div",{className:J.faveToggleBtn,children:s.jsx("button",{"aria-label":c.faves.includes(o.id)?"remove from favorites":"add to favoriites",onClick:b,type:"button",children:c.faves.includes(o.id)?s.jsx(Jt,{}):s.jsx(Qt,{})})}),o.thumbnail&&s.jsx("img",{className:J.blogThumbnail,src:o.thumbnail,alt:`thumbnail for blog titled: ${o.title}`}),s.jsxs("div",{className:J.btnWrapper,children:[s.jsx("button",{type:"button","aria-label":o.likes.includes(t)?"Unlike":"Like",onClick:A,children:o.likes.includes(t)?s.jsx(en,{}):s.jsx(tn,{})}),s.jsx("button",{type:"button","aria-label":o.dislikes.includes(t)?"Remove dislike":"Disike",onClick:h,children:o.dislikes.includes(t)?s.jsx(nn,{}):s.jsx(on,{})})]})]})]})};Nt.propTypes={blog:z.object.isRequired};/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Dt,setPrototypeOf:Tt,isFrozen:xn,getPrototypeOf:wn,getOwnPropertyDescriptor:Rn}=Object;let{freeze:C,seal:M,create:Nn}=Object,{apply:We,construct:Be}=typeof Reflect<"u"&&Reflect;We||(We=function(t,l,a){return t.apply(l,a)});C||(C=function(t){return t});M||(M=function(t){return t});Be||(Be=function(t,l){return new t(...l)});const Dn=I(Array.prototype.forEach),gt=I(Array.prototype.pop),oe=I(Array.prototype.push),Te=I(String.prototype.toLowerCase),Ue=I(String.prototype.toString),Cn=I(String.prototype.match),k=I(String.prototype.replace),Ln=I(String.prototype.indexOf),On=I(String.prototype.trim),L=I(RegExp.prototype.test),ie=In(TypeError);function I(o){return function(t){for(var l=arguments.length,a=new Array(l>1?l-1:0),c=1;c<l;c++)a[c-1]=arguments[c];return We(o,t,a)}}function In(o){return function(){for(var t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return Be(o,l)}}function u(o,t,l){var a;l=(a=l)!==null&&a!==void 0?a:Te,Tt&&Tt(o,null);let c=t.length;for(;c--;){let p=t[c];if(typeof p=="string"){const b=l(p);b!==p&&(xn(t)||(t[c]=b),p=b)}o[p]=!0}return o}function Q(o){const t=Nn(null);for(const[l,a]of Dt(o))t[l]=a;return t}function de(o,t){for(;o!==null;){const a=Rn(o,t);if(a){if(a.get)return I(a.get);if(typeof a.value=="function")return I(a.value)}o=wn(o)}function l(a){return console.warn("fallback value for",a),null}return l}const bt=C(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Fe=C(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),je=C(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),kn=C(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ze=C(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vn=C(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Et=C(["#text"]),At=C(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),He=C(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yt=C(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),he=C(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mn=M(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Pn=M(/<%[\w\W]*|[\w\W]*%>/gm),Un=M(/\${[\w\W]*}/gm),Fn=M(/^data-[\-\w.\u00B7-\uFFFF]/),jn=M(/^aria-[\-\w]+$/),Ct=M(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zn=M(/^(?:\w+script|data):/i),Hn=M(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Lt=M(/^html$/i);var St=Object.freeze({__proto__:null,MUSTACHE_EXPR:Mn,ERB_EXPR:Pn,TMPLIT_EXPR:Un,DATA_ATTR:Fn,ARIA_ATTR:jn,IS_ALLOWED_URI:Ct,IS_SCRIPT_OR_DATA:zn,ATTR_WHITESPACE:Hn,DOCTYPE_NAME:Lt});const Wn=()=>typeof window>"u"?null:window,Bn=function(t,l){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let a=null;const c="data-tt-policy-suffix";l&&l.hasAttribute(c)&&(a=l.getAttribute(c));const p="dompurify"+(a?"#"+a:"");try{return t.createPolicy(p,{createHTML(b){return b},createScriptURL(b){return b}})}catch{return console.warn("TrustedTypes policy "+p+" could not be created."),null}};function Ot(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wn();const t=r=>Ot(r);if(t.version="3.0.5",t.removed=[],!o||!o.document||o.document.nodeType!==9)return t.isSupported=!1,t;const l=o.document,a=l.currentScript;let{document:c}=o;const{DocumentFragment:p,HTMLTemplateElement:b,Node:A,Element:h,NodeFilter:f,NamedNodeMap:m=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:d,DOMParser:N,trustedTypes:T}=o,Y=h.prototype,be=de(Y,"cloneNode"),kt=de(Y,"nextSibling"),vt=de(Y,"childNodes"),Ee=de(Y,"parentNode");if(typeof b=="function"){const r=c.createElement("template");r.content&&r.content.ownerDocument&&(c=r.content.ownerDocument)}let D,ee="";const{implementation:Ae,createNodeIterator:Mt,createDocumentFragment:Pt,getElementsByTagName:Ut}=c,{importNode:Ft}=l;let P={};t.isSupported=typeof Dt=="function"&&typeof Ee=="function"&&Ae&&Ae.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ye,ERB_EXPR:Se,TMPLIT_EXPR:xe,DATA_ATTR:jt,ARIA_ATTR:zt,IS_SCRIPT_OR_DATA:Ht,ATTR_WHITESPACE:Ve}=St;let{IS_ALLOWED_URI:qe}=St,y=null;const Ke=u({},[...bt,...Fe,...je,...ze,...Et]);let S=null;const Ze=u({},[...At,...He,...yt,...he]);let E=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),te=null,we=null,Je=!0,Re=!0,Qe=!1,et=!0,$=!1,H=!1,Ne=!1,De=!1,X=!1,re=!1,le=!1,tt=!0,nt=!1;const Wt="user-content-";let Ce=!0,ne=!1,V={},q=null;const ot=u({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let it=null;const at=u({},["audio","video","img","source","image","track"]);let Le=null;const st=u({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ce="http://www.w3.org/1998/Math/MathML",ue="http://www.w3.org/2000/svg",F="http://www.w3.org/1999/xhtml";let K=F,Oe=!1,Ie=null;const Bt=u({},[ce,ue,F],Ue);let W;const Gt=["application/xhtml+xml","text/html"],Yt="text/html";let x,Z=null;const $t=c.createElement("form"),rt=function(e){return e instanceof RegExp||e instanceof Function},ke=function(e){if(!(Z&&Z===e)){if((!e||typeof e!="object")&&(e={}),e=Q(e),W=Gt.indexOf(e.PARSER_MEDIA_TYPE)===-1?W=Yt:W=e.PARSER_MEDIA_TYPE,x=W==="application/xhtml+xml"?Ue:Te,y="ALLOWED_TAGS"in e?u({},e.ALLOWED_TAGS,x):Ke,S="ALLOWED_ATTR"in e?u({},e.ALLOWED_ATTR,x):Ze,Ie="ALLOWED_NAMESPACES"in e?u({},e.ALLOWED_NAMESPACES,Ue):Bt,Le="ADD_URI_SAFE_ATTR"in e?u(Q(st),e.ADD_URI_SAFE_ATTR,x):st,it="ADD_DATA_URI_TAGS"in e?u(Q(at),e.ADD_DATA_URI_TAGS,x):at,q="FORBID_CONTENTS"in e?u({},e.FORBID_CONTENTS,x):ot,te="FORBID_TAGS"in e?u({},e.FORBID_TAGS,x):{},we="FORBID_ATTR"in e?u({},e.FORBID_ATTR,x):{},V="USE_PROFILES"in e?e.USE_PROFILES:!1,Je=e.ALLOW_ARIA_ATTR!==!1,Re=e.ALLOW_DATA_ATTR!==!1,Qe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,et=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$=e.SAFE_FOR_TEMPLATES||!1,H=e.WHOLE_DOCUMENT||!1,X=e.RETURN_DOM||!1,re=e.RETURN_DOM_FRAGMENT||!1,le=e.RETURN_TRUSTED_TYPE||!1,De=e.FORCE_BODY||!1,tt=e.SANITIZE_DOM!==!1,nt=e.SANITIZE_NAMED_PROPS||!1,Ce=e.KEEP_CONTENT!==!1,ne=e.IN_PLACE||!1,qe=e.ALLOWED_URI_REGEXP||Ct,K=e.NAMESPACE||F,E=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&rt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(E.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&rt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(E.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(E.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$&&(Re=!1),re&&(X=!0),V&&(y=u({},[...Et]),S=[],V.html===!0&&(u(y,bt),u(S,At)),V.svg===!0&&(u(y,Fe),u(S,He),u(S,he)),V.svgFilters===!0&&(u(y,je),u(S,He),u(S,he)),V.mathMl===!0&&(u(y,ze),u(S,yt),u(S,he))),e.ADD_TAGS&&(y===Ke&&(y=Q(y)),u(y,e.ADD_TAGS,x)),e.ADD_ATTR&&(S===Ze&&(S=Q(S)),u(S,e.ADD_ATTR,x)),e.ADD_URI_SAFE_ATTR&&u(Le,e.ADD_URI_SAFE_ATTR,x),e.FORBID_CONTENTS&&(q===ot&&(q=Q(q)),u(q,e.FORBID_CONTENTS,x)),Ce&&(y["#text"]=!0),H&&u(y,["html","head","body"]),y.table&&(u(y,["tbody"]),delete te.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw ie('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ie('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');D=e.TRUSTED_TYPES_POLICY,ee=D.createHTML("")}else D===void 0&&(D=Bn(T,a)),D!==null&&typeof ee=="string"&&(ee=D.createHTML(""));C&&C(e),Z=e}},lt=u({},["mi","mo","mn","ms","mtext"]),ct=u({},["foreignobject","desc","title","annotation-xml"]),Xt=u({},["title","style","font","a","script"]),me=u({},Fe);u(me,je),u(me,kn);const ve=u({},ze);u(ve,vn);const Vt=function(e){let n=Ee(e);(!n||!n.tagName)&&(n={namespaceURI:K,tagName:"template"});const i=Te(e.tagName),_=Te(n.tagName);return Ie[e.namespaceURI]?e.namespaceURI===ue?n.namespaceURI===F?i==="svg":n.namespaceURI===ce?i==="svg"&&(_==="annotation-xml"||lt[_]):!!me[i]:e.namespaceURI===ce?n.namespaceURI===F?i==="math":n.namespaceURI===ue?i==="math"&&ct[_]:!!ve[i]:e.namespaceURI===F?n.namespaceURI===ue&&!ct[_]||n.namespaceURI===ce&&!lt[_]?!1:!ve[i]&&(Xt[i]||!me[i]):!!(W==="application/xhtml+xml"&&Ie[e.namespaceURI]):!1},B=function(e){oe(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch{e.remove()}},Me=function(e,n){try{oe(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch{oe(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e==="is"&&!S[e])if(X||re)try{B(n)}catch{}else try{n.setAttribute(e,"")}catch{}},ut=function(e){let n,i;if(De)e="<remove></remove>"+e;else{const O=Cn(e,/^[\r\n\t ]+/);i=O&&O[0]}W==="application/xhtml+xml"&&K===F&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const _=D?D.createHTML(e):e;if(K===F)try{n=new N().parseFromString(_,W)}catch{}if(!n||!n.documentElement){n=Ae.createDocument(K,"template",null);try{n.documentElement.innerHTML=Oe?ee:_}catch{}}const w=n.body||n.documentElement;return e&&i&&w.insertBefore(c.createTextNode(i),w.childNodes[0]||null),K===F?Ut.call(n,H?"html":"body")[0]:H?n.documentElement:w},mt=function(e){return Mt.call(e.ownerDocument||e,e,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT,null,!1)},qt=function(e){return e instanceof d&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof m)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},fe=function(e){return typeof A=="object"?e instanceof A:e&&typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string"},j=function(e,n,i){P[e]&&Dn(P[e],_=>{_.call(t,n,i,Z)})},ft=function(e){let n;if(j("beforeSanitizeElements",e,null),qt(e))return B(e),!0;const i=x(e.nodeName);if(j("uponSanitizeElement",e,{tagName:i,allowedTags:y}),e.hasChildNodes()&&!fe(e.firstElementChild)&&(!fe(e.content)||!fe(e.content.firstElementChild))&&L(/<[/\w]/g,e.innerHTML)&&L(/<[/\w]/g,e.textContent))return B(e),!0;if(!y[i]||te[i]){if(!te[i]&&dt(i)&&(E.tagNameCheck instanceof RegExp&&L(E.tagNameCheck,i)||E.tagNameCheck instanceof Function&&E.tagNameCheck(i)))return!1;if(Ce&&!q[i]){const _=Ee(e)||e.parentNode,w=vt(e)||e.childNodes;if(w&&_){const O=w.length;for(let g=O-1;g>=0;--g)_.insertBefore(be(w[g],!0),kt(e))}}return B(e),!0}return e instanceof h&&!Vt(e)||(i==="noscript"||i==="noembed"||i==="noframes")&&L(/<\/no(script|embed|frames)/i,e.innerHTML)?(B(e),!0):($&&e.nodeType===3&&(n=e.textContent,n=k(n,ye," "),n=k(n,Se," "),n=k(n,xe," "),e.textContent!==n&&(oe(t.removed,{element:e.cloneNode()}),e.textContent=n)),j("afterSanitizeElements",e,null),!1)},pt=function(e,n,i){if(tt&&(n==="id"||n==="name")&&(i in c||i in $t))return!1;if(!(Re&&!we[n]&&L(jt,n))){if(!(Je&&L(zt,n))){if(!S[n]||we[n]){if(!(dt(e)&&(E.tagNameCheck instanceof RegExp&&L(E.tagNameCheck,e)||E.tagNameCheck instanceof Function&&E.tagNameCheck(e))&&(E.attributeNameCheck instanceof RegExp&&L(E.attributeNameCheck,n)||E.attributeNameCheck instanceof Function&&E.attributeNameCheck(n))||n==="is"&&E.allowCustomizedBuiltInElements&&(E.tagNameCheck instanceof RegExp&&L(E.tagNameCheck,i)||E.tagNameCheck instanceof Function&&E.tagNameCheck(i))))return!1}else if(!Le[n]){if(!L(qe,k(i,Ve,""))){if(!((n==="src"||n==="xlink:href"||n==="href")&&e!=="script"&&Ln(i,"data:")===0&&it[e])){if(!(Qe&&!L(Ht,k(i,Ve,"")))){if(i)return!1}}}}}}return!0},dt=function(e){return e.indexOf("-")>0},ht=function(e){let n,i,_,w;j("beforeSanitizeAttributes",e,null);const{attributes:O}=e;if(!O)return;const g={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:S};for(w=O.length;w--;){n=O[w];const{name:U,namespaceURI:Pe}=n;if(i=U==="value"?n.value:On(n.value),_=x(U),g.attrName=_,g.attrValue=i,g.keepAttr=!0,g.forceKeepAttr=void 0,j("uponSanitizeAttribute",e,g),i=g.attrValue,g.forceKeepAttr||(Me(U,e),!g.keepAttr))continue;if(!et&&L(/\/>/i,i)){Me(U,e);continue}$&&(i=k(i,ye," "),i=k(i,Se," "),i=k(i,xe," "));const _t=x(e.nodeName);if(pt(_t,_,i)){if(nt&&(_==="id"||_==="name")&&(Me(U,e),i=Wt+i),D&&typeof T=="object"&&typeof T.getAttributeType=="function"&&!Pe)switch(T.getAttributeType(_t,_)){case"TrustedHTML":{i=D.createHTML(i);break}case"TrustedScriptURL":{i=D.createScriptURL(i);break}}try{Pe?e.setAttributeNS(Pe,U,i):e.setAttribute(U,i),gt(t.removed)}catch{}}}j("afterSanitizeAttributes",e,null)},Kt=function r(e){let n;const i=mt(e);for(j("beforeSanitizeShadowDOM",e,null);n=i.nextNode();)j("uponSanitizeShadowNode",n,null),!ft(n)&&(n.content instanceof p&&r(n.content),ht(n));j("afterSanitizeShadowDOM",e,null)};return t.sanitize=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,_,w;if(Oe=!r,Oe&&(r="<!-->"),typeof r!="string"&&!fe(r))if(typeof r.toString=="function"){if(r=r.toString(),typeof r!="string")throw ie("dirty is not a string, aborting")}else throw ie("toString is not a function");if(!t.isSupported)return r;if(Ne||ke(e),t.removed=[],typeof r=="string"&&(ne=!1),ne){if(r.nodeName){const U=x(r.nodeName);if(!y[U]||te[U])throw ie("root node is forbidden and cannot be sanitized in-place")}}else if(r instanceof A)n=ut("<!---->"),i=n.ownerDocument.importNode(r,!0),i.nodeType===1&&i.nodeName==="BODY"||i.nodeName==="HTML"?n=i:n.appendChild(i);else{if(!X&&!$&&!H&&r.indexOf("<")===-1)return D&&le?D.createHTML(r):r;if(n=ut(r),!n)return X?null:le?ee:""}n&&De&&B(n.firstChild);const O=mt(ne?r:n);for(;_=O.nextNode();)ft(_)||(_.content instanceof p&&Kt(_.content),ht(_));if(ne)return r;if(X){if(re)for(w=Pt.call(n.ownerDocument);n.firstChild;)w.appendChild(n.firstChild);else w=n;return(S.shadowroot||S.shadowrootmode)&&(w=Ft.call(l,w,!0)),w}let g=H?n.outerHTML:n.innerHTML;return H&&y["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&L(Lt,n.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+n.ownerDocument.doctype.name+`>
`+g),$&&(g=k(g,ye," "),g=k(g,Se," "),g=k(g,xe," ")),D&&le?D.createHTML(g):g},t.setConfig=function(r){ke(r),Ne=!0},t.clearConfig=function(){Z=null,Ne=!1},t.isValidAttribute=function(r,e,n){Z||ke({});const i=x(r),_=x(e);return pt(i,_,n)},t.addHook=function(r,e){typeof e=="function"&&(P[r]=P[r]||[],oe(P[r],e))},t.removeHook=function(r){if(P[r])return gt(P[r])},t.removeHooks=function(r){P[r]&&(P[r]=[])},t.removeAllHooks=function(){P={}},t}var Ge=Ot();const Gn="_input_p4mpc_1",Yn={input:Gn},Ye=({label:o,placeholder:t,value:l,onInput:a,...c})=>{const p=R.useRef(null);R.useEffect(()=>{p.current&&(p.current.textContent=l||"")},[l]);function b(){if(p.current){const h=Ge.sanitize(p.current.textContent);a(h)}}function A(h){h.key==="Enter"&&!h.shiftKey&&h.preventDefault()}return s.jsx("div",{contentEditable:!0,role:"textbox","aria-label":o,"data-placeholder":t,onInput:b,onKeyDown:A,ref:p,className:Yn.input,"aria-multiline":"true",spellCheck:!0,tabIndex:0,...c})};Ye.propTypes={label:z.string,placeholder:z.string,value:z.string,onInput:z.func.isRequired};const $n="_backdrop_1f369_1",Xn="_close-btn_1f369_15",xt={backdrop:$n,"close-btn":"_close-btn_1f369_15",closeBtn:Xn},It=({isOpen:o,onClose:t,children:l})=>{const a={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};return s.jsx(an,{initial:!1,mode:"wait",onExitComplete:()=>{},children:o&&s.jsxs(ae.div,{className:xt.backdrop,onClick:t,variants:a,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx(ae.button,{type:"button","aria-label":"Close form",className:xt.closeBtn,onClick:t,initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},children:s.jsx(sn,{})}),l]})})};It.propTypes={isOpen:z.bool.isRequired,onClose:z.func.isRequired,children:z.node.isRequired};const Vn="_form-wrapper_mv4d9_1",qn="_create-form_mv4d9_6",Kn="_field-wrapper_mv4d9_18",Zn="_content-wrapper_mv4d9_34",Jn="_choose-thumbnail_mv4d9_42",Qn="_thumbnail-preview_mv4d9_71",G={"form-wrapper":"_form-wrapper_mv4d9_1",formWrapper:Vn,"create-form":"_create-form_mv4d9_6",createForm:qn,"field-wrapper":"_field-wrapper_mv4d9_18",fieldWrapper:Kn,"content-wrapper":"_content-wrapper_mv4d9_34",contentWrapper:Zn,"choose-thumbnail":"_choose-thumbnail_mv4d9_42",chooseThumbnail:Jn,"thumbnail-preview":"_thumbnail-preview_mv4d9_71",thumbnailPreview:Qn},wt={title:"",content:"",thumbnail:null},eo=()=>{const{dispatch:o}=R.useContext(ge),{homeStates:{formIsOpen:t},homeDispatch:l}=R.useContext(se),[a,c]=R.useState(wt),[p,b]=R.useState(!1);function A(){l(d=>({...d,formIsOpen:!1}))}function h(d){d.preventDefault(),b(!0),_n(a).then(N=>{l(T=>({...T,blogs:[...T.blogs,N]})),o(T=>({...T,notifs:T.notifs.concat({message:"Blog Uploaded",color:"success",id:v()})}))}).catch(({message:N})=>o(T=>({...T,notifs:T.notifs.concat({message:N,color:"error",id:v()})}))).finally(()=>{b(!1),c(wt)})}function f(d){const N=d.target.files[0],T=new FileReader;T.onload=Y=>c(be=>({...be,thumbnail:Y.target.result})),T.readAsDataURL(N)}const m={hidden:{y:"100%",opacity:0},visible:{y:"0",opacity:1,transition:{damping:25,stiffness:200}},exit:{y:"100%",opacity:0}};return s.jsx(It,{isOpen:t,onClose:A,children:s.jsx(ae.div,{className:G.formWrapper,variants:m,initial:"hidden",animate:"visible",exit:"exit",children:s.jsxs("form",{onClick:d=>d.stopPropagation(),action:"/upload-blog",method:"POST",encType:"multipart/form-data",onSubmit:h,className:G.createForm,children:[s.jsx("div",{className:G.fieldWrapper,children:s.jsx(Ye,{label:"Title",placeholder:"title",onInput:d=>c(N=>({...N,title:d})),value:Ge.sanitize(a.title)})}),s.jsx("div",{className:[G.fieldWrapper,G.contentWrapper].join(" "),children:s.jsx(Ye,{label:"Content",placeholder:"content",onInput:d=>c(N=>({...N,content:d})),value:Ge.sanitize(a.content)})}),s.jsxs("div",{className:G.chooseThumbnail,children:[s.jsxs("label",{htmlFor:"blog-thumbnail",children:[s.jsx(rn,{}),a.thumbnail?"change":"pick a"," thumbnail"]}),s.jsx("input",{type:"file",accept:"image/*",name:"thumbnail",id:"blog-thumbnail",onChange:f}),a.thumbnail&&s.jsx("img",{src:a.thumbnail,alt:"Thumbnail Preview",className:G.thumbnailPreview})]}),s.jsx("button",{type:"submit",disabled:!(a.title.trim()&&a.content.trim())||p,"aria-label":"upload blog",children:p?s.jsx($e,{width:18}):"upload"})]})})})},to="_toolbar_5htww_1",no="_X7tY4Z_5htww_1",oo="_X7tY4Z_5htww_1",io={toolbar:to,X7tY4Z:no,x7TY4Z:oo},ao=()=>{const{homeDispatch:o}=R.useContext(se);return s.jsx(ae.footer,{className:io.toolbar,whileTap:{scale:.9},whileHover:{scale:1.1},children:s.jsx("button",{"aria-label":"create blog",type:"button",onClick:()=>o(t=>({...t,formIsOpen:!0})),children:s.jsx(ln,{})})})},so="_header_1liwz_1",ro="_drawer-toggler_1liwz_18",lo="_blog-search_1liwz_27",co="_user-info_1liwz_65",_e={header:so,"drawer-toggler":"_drawer-toggler_1liwz_18",drawerToggler:ro,"blog-search":"_blog-search_1liwz_27",blogSearch:lo,"user-info":"_user-info_1liwz_65",userInfo:co},uo=()=>{const{homeStates:{drawerIsOpen:o,searchQuery:t},homeDispatch:l}=R.useContext(se),{dispatch:a}=R.useContext(ge),[c,p]=R.useState(!1);function b(A){A.preventDefault(),p(!0),t.trim()&&Rt(t.trim()).then(h=>console.log(h)).catch(({message:h})=>a(f=>({...f,notifs:f.notifs.concat({message:h,color:"error",id:v()})}))).finally(()=>p(!1))}return s.jsx(s.Fragment,{children:s.jsxs("header",{className:_e.header,children:[s.jsx("button",{type:"button",className:_e.drawerToggler,onClick:()=>l(A=>({...A,drawerIsOpen:!A.drawerIsOpen})),"aria-label":o?"close side-drawer":"open side-drawer",children:s.jsx(cn,{})}),s.jsxs("form",{method:"GET",action:"/get-blog",className:_e.blogSearch,onSubmit:b,children:[s.jsx("input",{type:"text",id:"blog-search",value:t,onChange:A=>l(h=>({...h,searchQuery:A.target.value})),placeholder:"search"}),s.jsx("button",{type:"submit","aria-label":"search",disabled:!t.trim()||c,onClick:()=>{},children:c?s.jsx($e,{width:24}):s.jsx(un,{})})]}),s.jsx(mn,{"aria-label":"my account",to:"/acc",className:_e.userInfo,children:s.jsx(fn,{})})]})})},mo="_blogs_1mcdc_1",fo={blogs:mo},se=R.createContext(null),go=()=>{const o=pn(),t=localStorage.getItem("bloggerzon");if(t){JSON.parse(t).id;const{dispatch:l}=R.useContext(ge),[a,c]=R.useState({drawerIsOpen:!1,searchQuery:"",blogs:[],faves:[],formIsOpen:!1}),[p,b]=R.useState(!1);R.useEffect(()=>{b(!0),Rt().then(h=>c(f=>({...f,blogs:h}))).catch(({message:h})=>l(f=>({notifs:f.notifs.concat({message:h,color:["secondary","info","success","warning","error"][Math.floor(Math.random()*5)],id:v()})}))).finally(()=>b(!1))},[]),R.useEffect(()=>{hn().then(({favorites:h})=>c(f=>({...f,faves:h}))).catch(({message:h})=>{l(f=>({...f,notifs:f.notifs.concat({message:h,color:"error",id:v()})}))})},[]);const A={hidden:{opacity:0,x:"100%"},visible:{opacity:1,x:0},exit:{opacity:0,x:"-100%"}};return s.jsx(se.Provider,{value:{homeStates:a,homeDispatch:c},children:s.jsxs(ae.main,{variant:A,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx(uo,{}),s.jsx("section",{className:fo.blogs,"aria-live":"polite",children:p?s.jsx($e,{text:"Please wait",width:40}):a.blogs.map(h=>s.jsx(Nt,{blog:h},h.id))}),s.jsx(eo,{}),s.jsx(ao,{})]})})}else return o("/",{replace:!0})};export{se as HomeContext,go as default};
