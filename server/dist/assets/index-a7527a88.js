import{a as Dt,P as F,r as g,A as se,j as n,H as cn,b as un,X as mn,c as pn,S as be,d as dn,M as fn,e as hn,L as Ve,U as gn,u as _n,E as Ot,f as Lt,g as Mt,h as kt,B as Tn,s as bn}from"./index-99534088.js";const Pt=Dt.create({baseURL:"http://localhost:3000/api/blogs"});async function En(){const{data:o}=await Pt.get("/");return o}async function An(o){const t=localStorage.getItem("bloglist");if(t){const{token:r}=JSON.parse(t),{data:s}=await Pt.post("/",o,{headers:{Authorization:`Bearer ${r}`}});return s}}const Ze=Dt.create({baseURL:"http://localhost:3000/api/users"});async function Sn(){const o=localStorage.getItem("bloglist");if(o){const{token:t}=JSON.parse(o),{data:r}=await Ze.get("/",{headers:{Authorization:`Bearer ${t}`}});return r}}async function xn(o){const{data:t}=await Ze.post("/",o);return t}async function wn(o){const t=localStorage.getItem("bloglist");if(t){const{token:r}=JSON.parse(t),{data:s}=await Ze.patch("/",o,{headers:{Authorization:`Bearer ${r}`}});return s}}let de;const yn=new Uint8Array(16);function Rn(){if(!de&&(de=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!de))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return de(yn)}const R=[];for(let o=0;o<256;++o)R.push((o+256).toString(16).slice(1));function vn(o,t=0){return(R[o[t+0]]+R[o[t+1]]+R[o[t+2]]+R[o[t+3]]+"-"+R[o[t+4]]+R[o[t+5]]+"-"+R[o[t+6]]+R[o[t+7]]+"-"+R[o[t+8]]+R[o[t+9]]+"-"+R[o[t+10]]+R[o[t+11]]+R[o[t+12]]+R[o[t+13]]+R[o[t+14]]+R[o[t+15]]).toLowerCase()}const Nn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Et={randomUUID:Nn};function H(o,t,r){if(Et.randomUUID&&!t&&!o)return Et.randomUUID();o=o||{};const s=o.random||(o.rng||Rn)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){r=r||0;for(let c=0;c<16;++c)t[r+c]=s[c];return t}return vn(s)}const In="_blog_iea85_1",Cn="_fave-toggle-btn_iea85_16",Dn="_blog-title_iea85_35",On="_blog-thumbnail_iea85_55",Ln="_blog-content_iea85_60",fe={blog:In,"fave-toggle-btn":"_fave-toggle-btn_iea85_16",faveToggleBtn:Cn,"blog-title":"_blog-title_iea85_35",blogTitle:Dn,"blog-thumbnail":"_blog-thumbnail_iea85_55",blogThumbnail:On,"blog-content":"_blog-content_iea85_60",blogContent:Ln},jt=({blog:o})=>{const{dispatch:t}=g.useContext(se),{homeStates:{faves:r},homeDispatch:s}=g.useContext(ie),[c,p]=g.useState(r.includes(o.id));function u(d){wn({favorites:c?r.filter(_=>_!==_):[...r,d]}).then(({favorites:_})=>{s(y=>({...y,faves:_})),p(y=>!y),t(y=>({...y,notifs:y.notifs.concat({message:_.includes(d)?"Blog added to favorites":"Blog removed from favorites",color:"info",id:H()})}))}).catch(({message:_})=>t(y=>({...y,notifs:y.notifs.concat({message:_,color:"error",id:H()})})))}return n.jsxs("article",{className:`${fe.blog} blog-${o.id}`,children:[n.jsx("div",{className:fe.faveToggleBtn,children:n.jsx("button",{"aria-label":c?"remove from favorites":"add to favoriites",onClick:()=>u(o.id),children:c?n.jsx(cn,{}):n.jsx(un,{})})}),o.thumbnail&&n.jsx("img",{className:fe.blogThumbnail,src:o.thumbnail,alt:`thumbnail for blog titled: ${o.title}`}),n.jsx("p",{className:fe.blogTitle,children:o.title})]})};jt.propTypes={blog:F.object.isRequired};/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Ut,setPrototypeOf:At,isFrozen:Mn,getPrototypeOf:kn,getOwnPropertyDescriptor:Pn}=Object;let{freeze:N,seal:L,create:jn}=Object,{apply:qe,construct:Ye}=typeof Reflect<"u"&&Reflect;qe||(qe=function(t,r,s){return t.apply(r,s)});N||(N=function(t){return t});L||(L=function(t){return t});Ye||(Ye=function(t,r){return new t(...r)});const Un=D(Array.prototype.forEach),St=D(Array.prototype.pop),oe=D(Array.prototype.push),Te=D(String.prototype.toLowerCase),je=D(String.prototype.toString),Fn=D(String.prototype.match),O=D(String.prototype.replace),Hn=D(String.prototype.indexOf),Bn=D(String.prototype.trim),I=D(RegExp.prototype.test),ae=zn(TypeError);function D(o){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),c=1;c<r;c++)s[c-1]=arguments[c];return qe(o,t,s)}}function zn(o){return function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return Ye(o,r)}}function m(o,t,r){var s;r=(s=r)!==null&&s!==void 0?s:Te,At&&At(o,null);let c=t.length;for(;c--;){let p=t[c];if(typeof p=="string"){const u=r(p);u!==p&&(Mn(t)||(t[c]=u),p=u)}o[p]=!0}return o}function Q(o){const t=jn(null);for(const[r,s]of Ut(o))t[r]=s;return t}function he(o,t){for(;o!==null;){const s=Pn(o,t);if(s){if(s.get)return D(s.get);if(typeof s.value=="function")return D(s.value)}o=kn(o)}function r(s){return console.warn("fallback value for",s),null}return r}const xt=N(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ue=N(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fe=N(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Wn=N(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),He=N(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Gn=N(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wt=N(["#text"]),yt=N(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Be=N(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Rt=N(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ge=N(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qn=L(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Yn=L(/<%[\w\W]*|[\w\W]*%>/gm),$n=L(/\${[\w\W]*}/gm),Xn=L(/^data-[\-\w.\u00B7-\uFFFF]/),Vn=L(/^aria-[\-\w]+$/),Ft=L(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Zn=L(/^(?:\w+script|data):/i),Kn=L(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ht=L(/^html$/i);var vt=Object.freeze({__proto__:null,MUSTACHE_EXPR:qn,ERB_EXPR:Yn,TMPLIT_EXPR:$n,DATA_ATTR:Xn,ARIA_ATTR:Vn,IS_ALLOWED_URI:Ft,IS_SCRIPT_OR_DATA:Zn,ATTR_WHITESPACE:Kn,DOCTYPE_NAME:Ht});const Jn=()=>typeof window>"u"?null:window,Qn=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const c="data-tt-policy-suffix";r&&r.hasAttribute(c)&&(s=r.getAttribute(c));const p="dompurify"+(s?"#"+s:"");try{return t.createPolicy(p,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+p+" could not be created."),null}};function Bt(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jn();const t=l=>Bt(l);if(t.version="3.0.5",t.removed=[],!o||!o.document||o.document.nodeType!==9)return t.isSupported=!1,t;const r=o.document,s=r.currentScript;let{document:c}=o;const{DocumentFragment:p,HTMLTemplateElement:u,Node:d,Element:_,NodeFilter:y,NamedNodeMap:b=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:h,DOMParser:M,trustedTypes:q}=o,Y=_.prototype,Wt=he(Y,"cloneNode"),Gt=he(Y,"nextSibling"),qt=he(Y,"childNodes"),Ee=he(Y,"parentNode");if(typeof u=="function"){const l=c.createElement("template");l.content&&l.content.ownerDocument&&(c=l.content.ownerDocument)}let v,ee="";const{implementation:Ae,createNodeIterator:Yt,createDocumentFragment:$t,getElementsByTagName:Xt}=c,{importNode:Vt}=r;let k={};t.isSupported=typeof Ut=="function"&&typeof Ee=="function"&&Ae&&Ae.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Se,ERB_EXPR:xe,TMPLIT_EXPR:we,DATA_ATTR:Zt,ARIA_ATTR:Kt,IS_SCRIPT_OR_DATA:Jt,ATTR_WHITESPACE:Ke}=vt;let{IS_ALLOWED_URI:Je}=vt,A=null;const Qe=m({},[...xt,...Ue,...Fe,...He,...wt]);let S=null;const et=m({},[...yt,...Be,...Rt,...ge]);let E=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),te=null,ye=null,tt=!0,Re=!0,nt=!1,ot=!0,$=!1,B=!1,ve=!1,Ne=!1,X=!1,re=!1,le=!1,at=!0,st=!1;const Qt="user-content-";let Ie=!0,ne=!1,V={},Z=null;const it=m({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let rt=null;const lt=m({},["audio","video","img","source","image","track"]);let Ce=null;const ct=m({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ce="http://www.w3.org/1998/Math/MathML",ue="http://www.w3.org/2000/svg",j="http://www.w3.org/1999/xhtml";let K=j,De=!1,Oe=null;const en=m({},[ce,ue,j],je);let z;const tn=["application/xhtml+xml","text/html"],nn="text/html";let x,J=null;const on=c.createElement("form"),ut=function(e){return e instanceof RegExp||e instanceof Function},Le=function(e){if(!(J&&J===e)){if((!e||typeof e!="object")&&(e={}),e=Q(e),z=tn.indexOf(e.PARSER_MEDIA_TYPE)===-1?z=nn:z=e.PARSER_MEDIA_TYPE,x=z==="application/xhtml+xml"?je:Te,A="ALLOWED_TAGS"in e?m({},e.ALLOWED_TAGS,x):Qe,S="ALLOWED_ATTR"in e?m({},e.ALLOWED_ATTR,x):et,Oe="ALLOWED_NAMESPACES"in e?m({},e.ALLOWED_NAMESPACES,je):en,Ce="ADD_URI_SAFE_ATTR"in e?m(Q(ct),e.ADD_URI_SAFE_ATTR,x):ct,rt="ADD_DATA_URI_TAGS"in e?m(Q(lt),e.ADD_DATA_URI_TAGS,x):lt,Z="FORBID_CONTENTS"in e?m({},e.FORBID_CONTENTS,x):it,te="FORBID_TAGS"in e?m({},e.FORBID_TAGS,x):{},ye="FORBID_ATTR"in e?m({},e.FORBID_ATTR,x):{},V="USE_PROFILES"in e?e.USE_PROFILES:!1,tt=e.ALLOW_ARIA_ATTR!==!1,Re=e.ALLOW_DATA_ATTR!==!1,nt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ot=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$=e.SAFE_FOR_TEMPLATES||!1,B=e.WHOLE_DOCUMENT||!1,X=e.RETURN_DOM||!1,re=e.RETURN_DOM_FRAGMENT||!1,le=e.RETURN_TRUSTED_TYPE||!1,Ne=e.FORCE_BODY||!1,at=e.SANITIZE_DOM!==!1,st=e.SANITIZE_NAMED_PROPS||!1,Ie=e.KEEP_CONTENT!==!1,ne=e.IN_PLACE||!1,Je=e.ALLOWED_URI_REGEXP||Ft,K=e.NAMESPACE||j,E=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(E.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(E.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(E.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$&&(Re=!1),re&&(X=!0),V&&(A=m({},[...wt]),S=[],V.html===!0&&(m(A,xt),m(S,yt)),V.svg===!0&&(m(A,Ue),m(S,Be),m(S,ge)),V.svgFilters===!0&&(m(A,Fe),m(S,Be),m(S,ge)),V.mathMl===!0&&(m(A,He),m(S,Rt),m(S,ge))),e.ADD_TAGS&&(A===Qe&&(A=Q(A)),m(A,e.ADD_TAGS,x)),e.ADD_ATTR&&(S===et&&(S=Q(S)),m(S,e.ADD_ATTR,x)),e.ADD_URI_SAFE_ATTR&&m(Ce,e.ADD_URI_SAFE_ATTR,x),e.FORBID_CONTENTS&&(Z===it&&(Z=Q(Z)),m(Z,e.FORBID_CONTENTS,x)),Ie&&(A["#text"]=!0),B&&m(A,["html","head","body"]),A.table&&(m(A,["tbody"]),delete te.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw ae('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ae('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=e.TRUSTED_TYPES_POLICY,ee=v.createHTML("")}else v===void 0&&(v=Qn(q,s)),v!==null&&typeof ee=="string"&&(ee=v.createHTML(""));N&&N(e),J=e}},mt=m({},["mi","mo","mn","ms","mtext"]),pt=m({},["foreignobject","desc","title","annotation-xml"]),an=m({},["title","style","font","a","script"]),me=m({},Ue);m(me,Fe),m(me,Wn);const Me=m({},He);m(Me,Gn);const sn=function(e){let a=Ee(e);(!a||!a.tagName)&&(a={namespaceURI:K,tagName:"template"});const i=Te(e.tagName),f=Te(a.tagName);return Oe[e.namespaceURI]?e.namespaceURI===ue?a.namespaceURI===j?i==="svg":a.namespaceURI===ce?i==="svg"&&(f==="annotation-xml"||mt[f]):!!me[i]:e.namespaceURI===ce?a.namespaceURI===j?i==="math":a.namespaceURI===ue?i==="math"&&pt[f]:!!Me[i]:e.namespaceURI===j?a.namespaceURI===ue&&!pt[f]||a.namespaceURI===ce&&!mt[f]?!1:!Me[i]&&(an[i]||!me[i]):!!(z==="application/xhtml+xml"&&Oe[e.namespaceURI]):!1},W=function(e){oe(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch{e.remove()}},ke=function(e,a){try{oe(t.removed,{attribute:a.getAttributeNode(e),from:a})}catch{oe(t.removed,{attribute:null,from:a})}if(a.removeAttribute(e),e==="is"&&!S[e])if(X||re)try{W(a)}catch{}else try{a.setAttribute(e,"")}catch{}},dt=function(e){let a,i;if(Ne)e="<remove></remove>"+e;else{const C=Fn(e,/^[\r\n\t ]+/);i=C&&C[0]}z==="application/xhtml+xml"&&K===j&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const f=v?v.createHTML(e):e;if(K===j)try{a=new M().parseFromString(f,z)}catch{}if(!a||!a.documentElement){a=Ae.createDocument(K,"template",null);try{a.documentElement.innerHTML=De?ee:f}catch{}}const w=a.body||a.documentElement;return e&&i&&w.insertBefore(c.createTextNode(i),w.childNodes[0]||null),K===j?Xt.call(a,B?"html":"body")[0]:B?a.documentElement:w},ft=function(e){return Yt.call(e.ownerDocument||e,e,y.SHOW_ELEMENT|y.SHOW_COMMENT|y.SHOW_TEXT,null,!1)},rn=function(e){return e instanceof h&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof b)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},pe=function(e){return typeof d=="object"?e instanceof d:e&&typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string"},U=function(e,a,i){k[e]&&Un(k[e],f=>{f.call(t,a,i,J)})},ht=function(e){let a;if(U("beforeSanitizeElements",e,null),rn(e))return W(e),!0;const i=x(e.nodeName);if(U("uponSanitizeElement",e,{tagName:i,allowedTags:A}),e.hasChildNodes()&&!pe(e.firstElementChild)&&(!pe(e.content)||!pe(e.content.firstElementChild))&&I(/<[/\w]/g,e.innerHTML)&&I(/<[/\w]/g,e.textContent))return W(e),!0;if(!A[i]||te[i]){if(!te[i]&&_t(i)&&(E.tagNameCheck instanceof RegExp&&I(E.tagNameCheck,i)||E.tagNameCheck instanceof Function&&E.tagNameCheck(i)))return!1;if(Ie&&!Z[i]){const f=Ee(e)||e.parentNode,w=qt(e)||e.childNodes;if(w&&f){const C=w.length;for(let T=C-1;T>=0;--T)f.insertBefore(Wt(w[T],!0),Gt(e))}}return W(e),!0}return e instanceof _&&!sn(e)||(i==="noscript"||i==="noembed"||i==="noframes")&&I(/<\/no(script|embed|frames)/i,e.innerHTML)?(W(e),!0):($&&e.nodeType===3&&(a=e.textContent,a=O(a,Se," "),a=O(a,xe," "),a=O(a,we," "),e.textContent!==a&&(oe(t.removed,{element:e.cloneNode()}),e.textContent=a)),U("afterSanitizeElements",e,null),!1)},gt=function(e,a,i){if(at&&(a==="id"||a==="name")&&(i in c||i in on))return!1;if(!(Re&&!ye[a]&&I(Zt,a))){if(!(tt&&I(Kt,a))){if(!S[a]||ye[a]){if(!(_t(e)&&(E.tagNameCheck instanceof RegExp&&I(E.tagNameCheck,e)||E.tagNameCheck instanceof Function&&E.tagNameCheck(e))&&(E.attributeNameCheck instanceof RegExp&&I(E.attributeNameCheck,a)||E.attributeNameCheck instanceof Function&&E.attributeNameCheck(a))||a==="is"&&E.allowCustomizedBuiltInElements&&(E.tagNameCheck instanceof RegExp&&I(E.tagNameCheck,i)||E.tagNameCheck instanceof Function&&E.tagNameCheck(i))))return!1}else if(!Ce[a]){if(!I(Je,O(i,Ke,""))){if(!((a==="src"||a==="xlink:href"||a==="href")&&e!=="script"&&Hn(i,"data:")===0&&rt[e])){if(!(nt&&!I(Jt,O(i,Ke,"")))){if(i)return!1}}}}}}return!0},_t=function(e){return e.indexOf("-")>0},Tt=function(e){let a,i,f,w;U("beforeSanitizeAttributes",e,null);const{attributes:C}=e;if(!C)return;const T={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:S};for(w=C.length;w--;){a=C[w];const{name:P,namespaceURI:Pe}=a;if(i=P==="value"?a.value:Bn(a.value),f=x(P),T.attrName=f,T.attrValue=i,T.keepAttr=!0,T.forceKeepAttr=void 0,U("uponSanitizeAttribute",e,T),i=T.attrValue,T.forceKeepAttr||(ke(P,e),!T.keepAttr))continue;if(!ot&&I(/\/>/i,i)){ke(P,e);continue}$&&(i=O(i,Se," "),i=O(i,xe," "),i=O(i,we," "));const bt=x(e.nodeName);if(gt(bt,f,i)){if(st&&(f==="id"||f==="name")&&(ke(P,e),i=Qt+i),v&&typeof q=="object"&&typeof q.getAttributeType=="function"&&!Pe)switch(q.getAttributeType(bt,f)){case"TrustedHTML":{i=v.createHTML(i);break}case"TrustedScriptURL":{i=v.createScriptURL(i);break}}try{Pe?e.setAttributeNS(Pe,P,i):e.setAttribute(P,i),St(t.removed)}catch{}}}U("afterSanitizeAttributes",e,null)},ln=function l(e){let a;const i=ft(e);for(U("beforeSanitizeShadowDOM",e,null);a=i.nextNode();)U("uponSanitizeShadowNode",a,null),!ht(a)&&(a.content instanceof p&&l(a.content),Tt(a));U("afterSanitizeShadowDOM",e,null)};return t.sanitize=function(l){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,i,f,w;if(De=!l,De&&(l="<!-->"),typeof l!="string"&&!pe(l))if(typeof l.toString=="function"){if(l=l.toString(),typeof l!="string")throw ae("dirty is not a string, aborting")}else throw ae("toString is not a function");if(!t.isSupported)return l;if(ve||Le(e),t.removed=[],typeof l=="string"&&(ne=!1),ne){if(l.nodeName){const P=x(l.nodeName);if(!A[P]||te[P])throw ae("root node is forbidden and cannot be sanitized in-place")}}else if(l instanceof d)a=dt("<!---->"),i=a.ownerDocument.importNode(l,!0),i.nodeType===1&&i.nodeName==="BODY"||i.nodeName==="HTML"?a=i:a.appendChild(i);else{if(!X&&!$&&!B&&l.indexOf("<")===-1)return v&&le?v.createHTML(l):l;if(a=dt(l),!a)return X?null:le?ee:""}a&&Ne&&W(a.firstChild);const C=ft(ne?l:a);for(;f=C.nextNode();)ht(f)||(f.content instanceof p&&ln(f.content),Tt(f));if(ne)return l;if(X){if(re)for(w=$t.call(a.ownerDocument);a.firstChild;)w.appendChild(a.firstChild);else w=a;return(S.shadowroot||S.shadowrootmode)&&(w=Vt.call(r,w,!0)),w}let T=B?a.outerHTML:a.innerHTML;return B&&A["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&I(Ht,a.ownerDocument.doctype.name)&&(T="<!DOCTYPE "+a.ownerDocument.doctype.name+`>
`+T),$&&(T=O(T,Se," "),T=O(T,xe," "),T=O(T,we," ")),v&&le?v.createHTML(T):T},t.setConfig=function(l){Le(l),ve=!0},t.clearConfig=function(){J=null,ve=!1},t.isValidAttribute=function(l,e,a){J||Le({});const i=x(l),f=x(e);return gt(i,f,a)},t.addHook=function(l,e){typeof e=="function"&&(k[l]=k[l]||[],oe(k[l],e))},t.removeHook=function(l){if(k[l])return St(k[l])},t.removeHooks=function(l){k[l]&&(k[l]=[])},t.removeAllHooks=function(){k={}},t}var $e=Bt();const eo="_input_p4mpc_1",to={input:eo},Xe=({label:o,placeholder:t,value:r,onInput:s,...c})=>{const p=g.useRef(null);g.useEffect(()=>{p.current&&(p.current.textContent=r||"")},[r]);function u(){if(p.current){const _=$e.sanitize(p.current.textContent);s(_)}}function d(_){_.key==="Enter"&&!_.shiftKey&&_.preventDefault()}return n.jsx("div",{contentEditable:!0,role:"textbox","aria-label":o,"data-placeholder":t,onInput:u,onKeyDown:d,ref:p,className:to.input,"aria-multiline":"true",spellCheck:!0,tabIndex:0,...c})};Xe.propTypes={label:F.string,placeholder:F.string,value:F.string,onInput:F.func.isRequired};const no="_overlay_1k6gf_1",oo="_content_1k6gf_15",ao="_close-btn_1k6gf_20",ze={overlay:no,content:oo,"close-btn":"_close-btn_1k6gf_20",closeBtn:ao},zt=({isOpen:o,onClose:t,children:r})=>o?n.jsx("div",{className:ze.overlay,children:n.jsxs("div",{className:ze.content,children:[n.jsx("button",{type:"button","aria-label":"close",onClick:t,className:ze.closeBtn,children:n.jsx(mn,{})}),r]})}):null;zt.propTypes={isOpen:F.bool.isRequired,onClose:F.func.isRequired,children:F.node.isRequired};const so="_form-wrapper_mv4d9_1",io="_create-form_mv4d9_6",ro="_field-wrapper_mv4d9_18",lo="_content-wrapper_mv4d9_34",co="_choose-thumbnail_mv4d9_42",uo="_thumbnail-preview_mv4d9_71",G={"form-wrapper":"_form-wrapper_mv4d9_1",formWrapper:so,"create-form":"_create-form_mv4d9_6",createForm:io,"field-wrapper":"_field-wrapper_mv4d9_18",fieldWrapper:ro,"content-wrapper":"_content-wrapper_mv4d9_34",contentWrapper:lo,"choose-thumbnail":"_choose-thumbnail_mv4d9_42",chooseThumbnail:co,"thumbnail-preview":"_thumbnail-preview_mv4d9_71",thumbnailPreview:uo},Nt={title:"",content:"",thumbnail:null},mo=()=>{const{dispatch:o}=g.useContext(se),{homeStates:{formIsOpen:t},homeDispatch:r}=g.useContext(ie),[s,c]=g.useState(Nt),[p,u]=g.useState(!1);function d(){r(b=>({...b,formIsOpen:!1}))}function _(b){b.preventDefault(),u(!0),An(s).then(()=>o(h=>({...h,notifs:h.notifs.concat({message:"Blog Uploaded",color:"success",id:H()})}))).catch(({message:h})=>o(M=>({...M,notifs:M.notifs.concat({message:h,color:"error",id:H()})})).finally(()=>{u(!1),c(Nt)}))}function y(b){const h=b.target.files[0],M=new FileReader;M.onload=q=>c(Y=>({...Y,thumbnail:q.target.result})),M.readAsDataURL(h)}return n.jsx(zt,{isOpen:t,onClose:d,children:n.jsx("div",{className:G.formWrapper,children:n.jsxs("form",{action:"/upload-blog",method:"POST",encType:"multipart/form-data",onSubmit:_,className:G.createForm,children:[n.jsx("div",{className:G.fieldWrapper,children:n.jsx(Xe,{label:"Title",placeholder:"title",onInput:b=>c(h=>({...h,title:b})),value:$e.sanitize(s.title)})}),n.jsx("div",{className:[G.fieldWrapper,G.contentWrapper].join(" "),children:n.jsx(Xe,{label:"Content",placeholder:"content",onInput:b=>c(h=>({...h,content:b})),value:$e.sanitize(s.content)})}),n.jsxs("div",{className:G.chooseThumbnail,children:[n.jsxs("label",{htmlFor:"blog-thumbnail",children:[n.jsx(pn,{}),s.thumbnail?"change":"pick a"," thumbnail"]}),n.jsx("input",{type:"file",accept:"image/*",name:"thumbnail",id:"blog-thumbnail",onChange:y}),s.thumbnail&&n.jsx("img",{src:s.thumbnail,alt:"Thumbnail Preview",className:G.thumbnailPreview})]}),n.jsx("button",{type:"submit",disabled:!(s.title.trim()&&s.content.trim())||p,"aria-label":"upload blog",children:p?n.jsx(be,{width:18}):"upload"})]})})})},po="_toolbar_1s2nz_1",fo="_X7tY4Z_1s2nz_1",ho="_X7tY4Z_1s2nz_1",go={toolbar:po,X7tY4Z:fo,x7TY4Z:ho},_o=()=>{const{homeDispatch:o}=g.useContext(ie);return n.jsx("footer",{className:go.toolbar,children:n.jsx("button",{"aria-label":"create blog",type:"button",onClick:()=>o(t=>({...t,formIsOpen:!0})),children:n.jsx(dn,{})})})},To="_header_cq9qd_1",bo="_drawer-toggler_cq9qd_19",Eo="_user-info_cq9qd_63",We={header:To,"drawer-toggler":"_drawer-toggler_cq9qd_19",drawerToggler:bo,"user-info":"_user-info_cq9qd_63",userInfo:Eo},Ao=()=>{const{homeStates:{drawerIsOpen:o,searchQuery:t},homeDispatch:r}=g.useContext(ie);return n.jsxs("header",{className:We.header,children:[n.jsx("button",{type:"button",className:We.drawerToggler,onClick:()=>r(s=>({...s,drawerIsOpen:!s.drawerIsOpen})),"aria-label":o?"close side-drawer":"open side-drawer",children:n.jsx(fn,{})}),n.jsxs("label",{htmlFor:"blog-search",children:[n.jsx(hn,{}),n.jsx("input",{type:"text",id:"blog-search",value:t,onChange:s=>r(c=>({...c,searchQuery:s.target.value})),placeholder:"search"})]}),n.jsx(Ve,{"aria-label":"my account",to:"/acc",className:We.userInfo,children:n.jsx(gn,{})})]})},So="_blogs_1mcdc_1",xo={blogs:So},ie=g.createContext(null),wo=()=>{const{dispatch:o}=g.useContext(se);JSON.parse(localStorage.getItem("bloglist"));const[t,r]=g.useState({drawerIsOpen:!1,searchQuery:"",blogs:[],faves:[],formIsOpen:!1}),[s,c]=g.useState(!1);return g.useEffect(()=>{c(!0),En().then(p=>r(u=>({...u,blogs:p}))).catch(({message:p})=>o(u=>({notifs:u.notifs.concat({message:p,color:["secondary","info","success","warning","error"][Math.floor(Math.random()*5)],id:H()})}))).finally(()=>c(!1))},[]),g.useEffect(()=>{Sn().then(({favorites:p})=>r(u=>({...u,faves:p}))).catch(({message:p})=>{o(u=>({...u,notifs:u.notifs.concat({message:p,color:"error",id:H()})}))})},[]),n.jsxs(ie.Provider,{value:{homeStates:t,homeDispatch:r},children:[n.jsx(Ao,{}),n.jsx("section",{className:xo.blogs,"aria-live":"polite",children:s?n.jsx(be,{text:"Please wait",width:40}):t.blogs.map(p=>n.jsx(jt,{blog:p},p.id))}),n.jsx(mo,{}),n.jsx(_o,{})]})},ko=wo,yo="_sign-in-form_1hi1q_1",Ro="_forgot-password_1hi1q_85",vo="_google-sign-in_1hi1q_105",Ge={"sign-in-form":"_sign-in-form_1hi1q_1",signInForm:yo,"forgot-password":"_forgot-password_1hi1q_85",forgotPassword:Ro,"google-sign-in":"_google-sign-in_1hi1q_105",googleSignIn:vo},It={email$alias:"",password:"",rememberMe:!1},No=()=>{const o=_n(),{dispatch:t}=g.useContext(se),[r,s]=g.useState(It),[c,p]=g.useState({verifying:!1}),[u,d]=g.useState(!1);async function _(b){p(h=>({...h,verifying:!0})),b.preventDefault();try{const h=await bn(r);localStorage.setItem("bloglist",JSON.stringify(h)),s(It),o("/")}catch({message:h}){t(M=>({...M,notifs:M.notifs.concat({message:h,color:"error",id:H()})}))}p(h=>({...h,verifying:!1}))}function y(){}return n.jsxs(n.Fragment,{children:[n.jsxs("form",{className:Ge.signInForm,action:"/sign-in",method:"post",onSubmit:_,children:[n.jsx("h1",{children:"welcome back"}),n.jsx("p",{children:"please enter your details."}),n.jsxs("label",{htmlFor:"user-id",children:[n.jsx("input",{type:"text",name:"username_email",id:"user-id",onChange:b=>s(h=>({...h,email$alias:b.target.value})),value:r.email$alias,required:!r.email$alias.trim(),autoComplete:"username"}),n.jsx("span",{children:"email | alias"})]}),n.jsxs("label",{htmlFor:"user-password",children:[n.jsx("input",{type:u?"text":"password",name:"user_password",id:"user-password",onChange:b=>s(h=>({...h,password:b.target.value})),value:r.password,required:!r.password.trim(),autoComplete:"current-password"}),n.jsx("span",{children:"password"}),n.jsx("button",{type:"button",onClick:()=>d(b=>!b),"aria-label":u?"hide password":"show password",children:u?n.jsx(Ot,{}):n.jsx(Lt,{})})]}),n.jsxs("label",{htmlFor:"remember-me",children:[n.jsx("input",{type:"checkbox",name:"remember_me",id:"remember-me",checked:r.rememberMe,onChange:b=>s(h=>({...h,rememberMe:b.target.checked}))}),r.rememberMe?n.jsx(Mt,{}):n.jsx(kt,{}),n.jsx("span",{children:"Remember me for 30 days"})]}),n.jsx("a",{href:"/forgot-password",target:"_blank",rel:"noopener noreferrer",className:Ge.forgotPassword,children:"Forgot password"}),n.jsx("button",{type:"submit",disabled:c.verifying,children:c.verifying?n.jsx(be,{width:18}):"sign in"}),n.jsxs("button",{type:"button",onClick:y,className:Ge.googleSignIn,children:[n.jsx(Tn,{}),n.jsx("span",{children:"Sign in with Google"})]})]}),n.jsxs("p",{children:["Don't have an account? ",n.jsx(Ve,{to:"/sign-up",children:"sign up"})]})]})},Po=No,Io="_sign-up-form_gfvah_1",Co="_name-section_gfvah_14",Do="_show-password-toggle_gfvah_30",_e={"sign-up-form":"_sign-up-form_gfvah_1",signUpForm:Io,"name-section":"_name-section_gfvah_14",nameSection:Co,"show-password-toggle":"_show-password-toggle_gfvah_30",showPasswordToggle:Do},Ct={name:{first:"",last:""},email:"",password:""},Oo=()=>{const{dispatch:o}=g.useContext(se),[t,r]=g.useState(Ct),[s,c]=g.useState({showPassword:!1,termsOfServiceAccepted:!1,creating:!1});async function p(u){c(d=>({...d,creating:!0})),u.preventDefault();try{await xn(t),r(Ct)}catch({message:d}){o(_=>({..._,notifs:_.notifs.concat({message:d,color:"error",id:H()})}))}c(d=>({...d,creating:!1}))}return n.jsxs(n.Fragment,{children:[n.jsxs("form",{className:_e.signUpForm,action:"/sign-up",method:"post",onSubmit:p,children:[n.jsxs("section",{className:_e.nameSection,children:[n.jsxs("label",{htmlFor:"user-firstname",children:[n.jsx("input",{type:"text",name:"firstname-user",id:"user-firstname",value:t.name.first,onChange:u=>r(d=>({...d,name:{...d.name,first:u.target.value}})),required:!t.name.first.trim(),autoComplete:"given-name"}),n.jsx("span",{children:"First Name"})]}),n.jsxs("label",{htmlFor:"user-lastname",children:[n.jsx("input",{type:"text",name:"lastname-field",id:"user-lastname",value:t.name.last,onChange:u=>r(d=>({...d,name:{...d.name,last:u.target.value}})),required:!t.name.last.trim(),autoComplete:"family-name"}),n.jsx("span",{children:"Last Name"})]})]}),n.jsxs("label",{htmlFor:"user-email",children:[n.jsx("input",{type:"email",name:"email-input",id:"user-email",value:t.email,onChange:u=>r(d=>({...d,email:u.target.value})),required:!t.email.trim(),autoComplete:"username"}),n.jsx("span",{children:"Email"})]}),n.jsxs("label",{htmlFor:"user-password",children:[n.jsx("input",{type:s.showPassword?"text":"password",name:"password-input",id:"user-password",value:t.password,onChange:u=>r(d=>({...d,password:u.target.value})),required:!t.password.trim(),autoComplete:"new-password"}),n.jsx("button",{type:"button",onClick:()=>c(u=>({...u,showPassword:!u.showPassword})),"aria-label":s.showPassword?"hide password":"show password",className:_e.showPasswordToggle,children:s.showPassword?n.jsx(Ot,{}):n.jsx(Lt,{})}),n.jsx("span",{children:"Password"})]}),n.jsxs("label",{htmlFor:"terms-of-service",children:[n.jsx("input",{type:"checkbox",name:"terms_of_service",id:"terms-of-service",checked:s.termsOfServiceAccepted,onChange:u=>c(d=>({...d,termsOfServiceAccepted:u.target.checked}))}),s.termsOfServiceAccepted?n.jsx(Mt,{}):n.jsx(kt,{}),n.jsx("span",{children:"I agree to the Tobi Terms of Service"})]}),n.jsx("button",{type:"submit",disabled:!s.termsOfServiceAccepted,children:s.creating?n.jsx(be,{width:18}):"Sign Up"})]}),n.jsxs("p",{className:_e.signInRedirect,children:["Already have an account? ",n.jsx(Ve,{to:"/sign-in",children:"Sign In"})]})]})},jo=Oo;export{ko as Home,Po as SignIn,jo as SignUp};
