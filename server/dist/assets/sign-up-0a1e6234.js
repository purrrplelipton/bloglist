import{r as m,A as h,j as e,E as u,a as g,S as f,b as w,c as x,L as j}from"./index-a260022a.js";import{c as v}from"./user-672a468a.js";import{v as S}from"./v4-a960c1f4.js";const _="_sign-up-form_gfvah_1",b="_name-section_gfvah_14",y="_show-password-toggle_gfvah_30",i={"sign-up-form":"_sign-up-form_gfvah_1",signUpForm:_,"name-section":"_name-section_gfvah_14",nameSection:b,"show-password-toggle":"_show-password-toggle_gfvah_30",showPasswordToggle:y},c={name:{first:"",last:""},email:"",password:""},A=()=>{const{dispatch:d}=m.useContext(h),[t,n]=m.useState(c),[r,o]=m.useState({showPassword:!1,termsOfServiceAccepted:!1,creating:!1});async function p(a){o(s=>({...s,creating:!0})),a.preventDefault();try{await v(t),n(c)}catch({message:s}){d(l=>({...l,notifs:l.notifs.concat({message:s,color:"error",id:S()})}))}o(s=>({...s,creating:!1}))}return e.jsxs(e.Fragment,{children:[e.jsxs("form",{className:i.signUpForm,action:"/sign-up",method:"post",onSubmit:p,children:[e.jsxs("section",{className:i.nameSection,children:[e.jsxs("label",{htmlFor:"user-firstname",children:[e.jsx("input",{type:"text",name:"firstname-user",id:"user-firstname",value:t.name.first,onChange:a=>n(s=>({...s,name:{...s.name,first:a.target.value}})),required:!t.name.first.trim(),autoComplete:"given-name"}),e.jsx("span",{children:"First Name"})]}),e.jsxs("label",{htmlFor:"user-lastname",children:[e.jsx("input",{type:"text",name:"lastname-field",id:"user-lastname",value:t.name.last,onChange:a=>n(s=>({...s,name:{...s.name,last:a.target.value}})),required:!t.name.last.trim(),autoComplete:"family-name"}),e.jsx("span",{children:"Last Name"})]})]}),e.jsxs("label",{htmlFor:"user-email",children:[e.jsx("input",{type:"email",name:"email-input",id:"user-email",value:t.email,onChange:a=>n(s=>({...s,email:a.target.value})),required:!t.email.trim(),autoComplete:"username"}),e.jsx("span",{children:"Email"})]}),e.jsxs("label",{htmlFor:"user-password",children:[e.jsx("input",{type:r.showPassword?"text":"password",name:"password-input",id:"user-password",value:t.password,onChange:a=>n(s=>({...s,password:a.target.value})),required:!t.password.trim(),autoComplete:"new-password"}),e.jsx("button",{type:"button",onClick:()=>o(a=>({...a,showPassword:!a.showPassword})),"aria-label":r.showPassword?"hide password":"show password",className:i.showPasswordToggle,children:r.showPassword?e.jsx(u,{}):e.jsx(g,{})}),e.jsx("span",{children:"Password"})]}),e.jsxs("label",{htmlFor:"terms-of-service",children:[e.jsx("input",{type:"checkbox",name:"terms_of_service",id:"terms-of-service",checked:r.termsOfServiceAccepted,onChange:a=>o(s=>({...s,termsOfServiceAccepted:a.target.checked}))}),r.termsOfServiceAccepted?e.jsx(f,{}):e.jsx(w,{}),e.jsx("span",{children:"I agree to the Tobi Terms of Service"})]}),e.jsx("button",{type:"submit",disabled:!r.termsOfServiceAccepted,children:r.creating?e.jsx(x,{width:18}):"Sign Up"})]}),e.jsxs("p",{className:i.signInRedirect,children:["Already have an account? ",e.jsx(j,{to:"/sign-in",children:"Sign In"})]})]})};export{A as default};
